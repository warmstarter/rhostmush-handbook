{"parents": [], "prev": {"link": "../32-dbloading/", "title": "Loading an existing Database"}, "next": {"link": "../34-upgrade/", "title": "Updating RhostMUSH prior to 3.9.5p2"}, "title": "Converting database betwen GDBM and QDBM", "meta": null, "body": "<div class=\"section\" id=\"converting-database-betwen-gdbm-and-qdbm\">\n<h1>Converting database betwen GDBM and QDBM<a class=\"headerlink\" href=\"#converting-database-betwen-gdbm-and-qdbm\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>Ok, if you plan to recompile your game that is using GDBM to QDBM, or visa versa\nsome bad news.</p>\n<p>The databases are NOT COMPATIBLE to each other, at least in the binary form.</p>\n<div class=\"section\" id=\"downgrading-qdbm-to-gdbm\">\n<h2>Downgrading QDBM to GDBM<a class=\"headerlink\" href=\"#downgrading-qdbm-to-gdbm\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>I would NEVER change from QDBM back to GDBM, but if you\u2019re set on it these steps:</p>\n<p>You would use the same steps if you plan to move QDBM to GDBM.  I however would\nnot do this.  Moving from QDBM to GDBM is a huge step backwards.  Seriously,\ndon\u2019t do it unless you have absolutely no other recourse.</p>\n<p>However, WARNING:\nIF you plan (for whatever reason) to move from QDBM to GDBM, you should verify\nthe following:\n1.  You have on a 64 bit system, no object that has more than 400 attributes on it.\n2.  You have on a 32 bit system, no object that has more than 750 attributes on it.\n3.  Any CONTENT of any attribute must be below 4000 characters in length.\n4.  Once you have that done, you may follow the procedures below on converting (upgrade)</p>\n<blockquote>\n<div><p>from GDBM to QDBM.  This works the same as converting (downgrading)\nQDBM back down to GDBM</p>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"upgradging-gdbm-to-qdbm\">\n<h2>Upgradging GDBM to QDBM<a class=\"headerlink\" href=\"#upgradging-gdbm-to-qdbm\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Now, if you\u2019ve kept reading and plan to convert your GDBM database to QDBM great news!\nIt\u2019s more stable, it\u2019s faster, and lets you have far more flexibility.</p>\n<p>So, BEFORE YOU RECOMPILE YOUR CODE.  This is what you have to do.</p>\n<div class=\"section\" id=\"while-logged-in-to-your-mush-issue-the-following-commands\">\n<h3>While logged in to your mush, issue the following commands<a class=\"headerlink\" href=\"#while-logged-in-to-your-mush-issue-the-following-commands\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<blockquote>\n<div><ol class=\"upperalpha simple\">\n<li><p>&#64;dump/flat    \u2013 This will make a flatfile dump of your MUSH database</p></li>\n<li><p>wmail/unload  \u2013 This will make a flatfile dump of your MAIL database</p></li>\n<li><p>&#64;areg/unload  \u2013 If you use the AutoRegistration engine, this dumps it</p></li>\n<li><p>newsdb/unload \u2013 If you use the hardcoded news/bbs engine.  This dumps it</p></li>\n</ol>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"verify-the-files-exist\">\n<h3>Verify the files exist<a class=\"headerlink\" href=\"#verify-the-files-exist\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<blockquote>\n<div><ol class=\"upperalpha simple\">\n<li></li>\n<li></li>\n<li><p>(Optional) .. Server/game/data/RhostMUSH.areg.dump</p></li>\n<li><p>(Optional) .. Server/game/data/RhostMUSH.news.flat</p></li>\n</ol>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"shutdown-the-mush\">\n<h3>Shutdown the MUSH<a class=\"headerlink\" href=\"#shutdown-the-mush\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>&#64;shutdown your mush</p>\n</div>\n<div class=\"section\" id=\"from-the-server-directory\">\n<h3>From the Server directory<a class=\"headerlink\" href=\"#from-the-server-directory\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<blockquote>\n<div><ol class=\"upperalpha simple\">\n<li><p>make clean</p></li>\n<li><p>make confsource\n1.  Select QDBM and if you wish at this time increase your LBUF size\n2.  Select any other options you may want</p></li>\n<li><p>(r)un and let it compile.</p></li>\n<li><p>Main DB: Delete (rm) the following files (from Rhost/Server/game/data)\nnetrhost.gdbm*\nnetrhost.db\nnetrhost.db.new\nnetrhost.db.new.prev</p></li>\n<li><p>Mail DB: Delete (rm) the following files (from Rhost/Server/game/data)\nRhostMUSH.folder.dir\nRhostMUSH.folder.pag\nRhostMUSH.mail.dir\nRhostMUSH.mail.pag</p></li>\n<li><p>(Optional) AutoReg DB: Delete (rm) the following files (from Rhost/Server/game/data)\nRhostMUSH.areg.dir\nRhostMUSH.areg.pag</p></li>\n<li><p>(Optional) News/BBS DB: Delete (rm) the following files (from Rhost/Server/game/data)\nRhostMUSH.news.dir\nRhostMUSH.news.pag</p></li>\n</ol>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"from-the-server-game-directory\">\n<h3>From the Server/game directory<a class=\"headerlink\" href=\"#from-the-server-game-directory\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<blockquote>\n<div><ol class=\"upperalpha simple\">\n<li><p>./db_load data/netrhost.gdbm data/netrhost.db.flat data/netrhost.db.new</p></li>\n<li><p>./Startmush</p></li>\n</ol>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"while-logged-into-the-mush-issue-the-following-commands\">\n<h3>While logged into the mush issue the following commands<a class=\"headerlink\" href=\"#while-logged-into-the-mush-issue-the-following-commands\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<blockquote>\n<div><ol class=\"upperalpha simple\">\n<li><p>Load in the mail database\nwmail/load</p></li>\n<li><p>(optional) Load in the autoreg database\n&#64;areg/load</p></li>\n<li><p>(optional) Load in the news/bbs database\nnewsdb/load</p></li>\n</ol>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"verify-that-you-have-qdbm-running-and-your-valid-values\">\n<h3>Verify that you have QDBM running and your valid values<a class=\"headerlink\" href=\"#verify-that-you-have-qdbm-running-and-your-valid-values\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<blockquote>\n<div><ol class=\"upperalpha simple\">\n<li><p>&#64;list options system</p></li>\n<li><p>&#64;list options (spammy)</p></li>\n</ol>\n</div></blockquote>\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["34-upgrade", "Updating RhostMUSH prior to 3.9.5p2", "N", "next"], ["32-dbloading", "Loading an existing Database", "P", "previous"]], "sourcename": "33-qdbm.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Converting database betwen GDBM and QDBM</a><ul>\n<li><a class=\"reference internal\" href=\"#downgrading-qdbm-to-gdbm\">Downgrading QDBM to GDBM</a></li>\n<li><a class=\"reference internal\" href=\"#upgradging-gdbm-to-qdbm\">Upgradging GDBM to QDBM</a><ul>\n<li><a class=\"reference internal\" href=\"#while-logged-in-to-your-mush-issue-the-following-commands\">While logged in to your mush, issue the following commands</a></li>\n<li><a class=\"reference internal\" href=\"#verify-the-files-exist\">Verify the files exist</a></li>\n<li><a class=\"reference internal\" href=\"#shutdown-the-mush\">Shutdown the MUSH</a></li>\n<li><a class=\"reference internal\" href=\"#from-the-server-directory\">From the Server directory</a></li>\n<li><a class=\"reference internal\" href=\"#from-the-server-game-directory\">From the Server/game directory</a></li>\n<li><a class=\"reference internal\" href=\"#while-logged-into-the-mush-issue-the-following-commands\">While logged into the mush issue the following commands</a></li>\n<li><a class=\"reference internal\" href=\"#verify-that-you-have-qdbm-running-and-your-valid-values\">Verify that you have QDBM running and your valid values</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "33-qdbm", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12", "insegel_version": "1.1.0"}