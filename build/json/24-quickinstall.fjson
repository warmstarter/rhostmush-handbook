{"parents": [], "prev": {"link": "../23-random/", "title": "Random notes and things to know about RhostMUSH"}, "next": {"link": "../25-godpasswd/", "title": "How to reset the password for #1"}, "title": "Quickinstall guide to RhostMUSH", "meta": null, "body": "<div class=\"section\" id=\"quickinstall-guide-to-rhostmush\">\n<h1>Quickinstall guide to RhostMUSH<a class=\"headerlink\" href=\"#quickinstall-guide-to-rhostmush\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>Welcome to OpenSource Rhostmush!</p>\n<div class=\"section\" id=\"obtaining-rhostmush\">\n<h2>Obtaining RhostMUSH<a class=\"headerlink\" href=\"#obtaining-rhostmush\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>It is assumed that you have gotten to this point with the following command:</p>\n<p>git clone <a class=\"reference external\" href=\"https://github.com/RhostMUSH/trunk\">https://github.com/RhostMUSH/trunk</a> Rhost</p>\n<p>If you did NOT get it this way, your file permissions may not be properly set\nup.  Please type:</p>\n<blockquote>\n<div><p>chmod +rx bin/<em>.sh src/</em>.sh game/<em>.sh game/Startmush game/db_</em></p>\n</div></blockquote>\n<p>This makes sure all the build scripts are properly made executable.\nThis will result in \u2018permission denied\u2019 or similar results when running a script.</p>\n<p>Once ready to compile type:</p>\n<blockquote>\n<div><p>make confsource</p>\n</div></blockquote>\n<p>This will bring up a menu where you can selection options.</p>\n</div>\n<div class=\"section\" id=\"important-before-you-actually-start-building\">\n<h2>Important before you actually start building<a class=\"headerlink\" href=\"#important-before-you-actually-start-building\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>The main parts of making your RhostMUSH, easy pleasy:\n0.  The stunnel directory contains TLS/SSL connectivity.  This has to be linked</p>\n<blockquote>\n<div><p>to another port and will tunnel to the mush port.  The README file explains\nhow to set up and configure your TLS/SSL connection.</p>\n</div></blockquote>\n<ol class=\"arabic simple\">\n<li><p>./patch.sh \u2013 This makes sure you have the latest code.\nIf you got this by git clone <a class=\"reference external\" href=\"https://github.com/RhostMUSH/trunk\">https://github.com/RhostMUSH/trunk</a>\nthen you can ignore patching.  You can use ./patch.sh at any\ntime to update your code.  It ignores local.c incase you make\nyour own modules.</p></li>\n<li><p>make confsource.  Yup, it\u2019s menu driven, nifty eh?\nOptions you may want to select (other than the defaults):\n5  (%c is selected by default, but choose %x as well for MUX/TM3 compat)\n9  (if you want $commands to require the COMMAND flag)\n16 (if you want a wider WHO listing like older versions of MUX)\n22 (if you\u2019re converting a TinyMUSH3 or TinyMUX/MUX2 flatfile)\n24 (if you have issues with -lssl not being found)\nB3 (for 64 character attribute names)\nB6 (select 8K for Penn/MUX2/TM3 default, up to 32K.  64K is network intensive)\nB5 (will be autoselected if you choose 8K or more.  Pick this anyway)\nB4 (if you have sqlite libraries and wish to use this)</p></li>\n<li><p>\u2018r\u2019 to compile with the settings you selected.</p></li>\n<li><p>Modify your netrhost.conf file as specified.  Make sure to align\nyour port and debug_id as shown in the netrhost.conf file.</p></li>\n<li><p>If you wish to port in an old flatfile, please refer to the readme directory\non how to port your flatfile in (README.DBLOADING).</p></li>\n</ol>\n</div>\n<div class=\"section\" id=\"using-the-prebuilt-flatfile\">\n<h2>Using the prebuilt flatfile<a class=\"headerlink\" href=\"#using-the-prebuilt-flatfile\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>There are pre-loaded flatfile databases you can use at this point.  The netrhost.db.flat\nand corrisponding netrhost.conf file will be located in the minimal-DBs/minimal_db directory.</p>\n<p>You may auto-load the minimal db and corresponding netrhost.conf file with the\ncommand:</p>\n<blockquote>\n<div><p>./minimal.sh</p>\n</div></blockquote>\n<p>This is ran from within the \u2018game\u2019 directory.  Once this is ran, you will need\nto customize the netrhost.conf file for your purposes.  The port and debug_id must\nbe changed at the very least.  Keep the debug_id coordinated to the port as described.</p>\n<div class=\"section\" id=\"to-load-a-prebuilt-flatfile\">\n<h3>To load a prebuilt flatfile<a class=\"headerlink\" href=\"#to-load-a-prebuilt-flatfile\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>To use these follow these steps:\n1.  Make a backup of your existing netrhost.conf file</p>\n<blockquote>\n<div><p>\u2013&gt; cp game/netrhost.conf game/netrhost.conf.backup</p>\n</div></blockquote>\n<ol class=\"arabic\" start=\"2\">\n<li><p>Copy the netrhost.conf file into your game directory\n\u2013&gt; cp -f ./minimal-DBs/minimal_db/netrhost.conf ./game/netrhost.conf</p></li>\n<li><p>At this point you can modify your netrhost.conf file settings in your game directory.\nUsing an editor modify the \u2018port\u2019 and \u2018debug_id\u2019 respectively in your netrhost.conf as stated.\nThe \u2018port\u2019 will be the port the mush listens on, the debug_id is for the debug-stack and is\nyour port with a \u20185\u2019 at the end.  So if your port is 4444, the debug_id is 44445</p></li>\n<li><p>Load in the flatfile into the mush (You could do this in the Startmush as well)\nManually:\n\u2013&gt; cd game\n\u2013&gt; ./db_load data/netrhost.gdbm ../minimal-DBs/minimal_db/netrhost.db.flat data/netrhost.db.new</p>\n<p>Start your mush:\n\u2013&gt; ./Startmush</p>\n<p>This will load the db that you loaded.</p>\n<p>\u2014\u2014\u2014\u2014\u2014OR\u2014\u2014-</p>\n<p>From Startmush:\n\u2013&gt; ./Startmush</p>\n<p>when prompted, hit &lt;RETURN&gt; for searching then select the number of the netrhost.db.flat that is\nlisted as ~/minimal-DBs/minimal_db/netrhost.db.flat</p>\n</li>\n</ol>\n</div>\n</div>\n<div class=\"section\" id=\"starting-from-scratch-with-a-brand-new-database\">\n<h2>Starting from scratch with a brand new database<a class=\"headerlink\" href=\"#starting-from-scratch-with-a-brand-new-database\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<ol class=\"arabic simple\">\n<li><p>You can modify your netrhost.conf file settings in your game directory.\nUsing an editor modify the \u2018port\u2019 and \u2018debug_id\u2019 respectively in your netrhost.conf as stated.\nThe \u2018port\u2019 will be the port the mush listens on, the debug_id is for the debug-stack and is\nyour port with a \u20185\u2019 at the end.  So if your port is 4444, the debug_id is 44445</p></li>\n<li><p>Start your mush:\n\u2013&gt; ./Startmush</p></li>\n</ol>\n<p>You can use the \u2018vi\u2019 editor or \u2018nano\u2019 if you like a more menu driven DOS like experience.\nYou can of course use any other editor you\u2019re familar with.</p>\n<p>For a more thorough understanding of how to set things up, keep reading!</p>\n<p>If you have syntax issues running \u2018make config\u2019, \u2018make confsource\u2019\nor \u2018make bugreport\u2019 please run the script: ./bin/script_setup.sh</p>\n<p>Now\u2026 things you may need to do on errors.</p>\n</div>\n<div class=\"section\" id=\"instructions-for-starting-a-new-rhostmush\">\n<h2>Instructions for starting a new RhostMUSH<a class=\"headerlink\" href=\"#instructions-for-starting-a-new-rhostmush\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"setup-directory-permissions\">\n<h3>Setup directory permissions<a class=\"headerlink\" href=\"#setup-directory-permissions\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<blockquote>\n<div><p>run ./dirsetup.sh</p>\n<p>This is a simple script that will change file permissions\nand directory permissions to properly protect RhostMUSH.\nThese settings generally work fine out of the box so\nyou likely won\u2019t even have to set this up if you don\u2019t want to.</p>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"compile-the-source-code\">\n<h3>Compile the source code<a class=\"headerlink\" href=\"#compile-the-source-code\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<blockquote>\n<div><p>Make and run the RhostMUSH source\nType:  make confsource</p>\n<p>If you get an error running the script itself,\ntype: ./bin/script_setup.sh</p>\n<p>Then type: make confsource</p>\n<p>After the compile process is done, you should be good to go.\nIf it complains about missing binaries then type \u2018make links\u2019</p>\n</div></blockquote>\n<div class=\"section\" id=\"manual-configuration-of-source-code\">\n<h4>Manual configuration of source code<a class=\"headerlink\" href=\"#manual-configuration-of-source-code\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<blockquote>\n<div><blockquote>\n<div><p>To do manual configuration (skip if the previous step worked for you)\nAnd yes, this is a bit of a pain in the bottom, hopefully you\nwill not need this.</p>\n<blockquote>\n<div><p>You need the following definitions defined to make this\nwork:  TINY_U, USE_SIDEEFFECTS, MUX_INCDEC, ATTR_HACK</p>\n<blockquote>\n<div><p>(u()/u2() switched)\n(sideeffects)\n(inc()/xinc() switched)\n(support for _/~ attribs)</p>\n</div></blockquote>\n<p>You only need to do this if you received the RhostMUSH src.\nIf you received a binary, continue on to the next part.</p>\n<p>To compile the code, just type \u2018make confsource\u2019.  It will\nprompt you with settings on what you need to do.  If you\njust want to quickly hand edit the Makefile, it is in the\ndirectory src (full path src/Makefile).  Then you may just\nrun \u2018make source\u2019, if you so choose to hand-edit the Makefile.</p>\n</div></blockquote>\n</div></blockquote>\n<p>After the compile process is done, type \u2018make links\u2019!</p>\n<blockquote>\n<div></div></blockquote>\n</div></blockquote>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"loading-a-database-for-your-mush\">\n<h2>Loading a database for your MUSH<a class=\"headerlink\" href=\"#loading-a-database-for-your-mush\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>You now have a choice of optionally starting at a provided database or starting from scratch.</p>\n<div class=\"section\" id=\"option-only-perform-these-steps-if-using-a-provided-database\">\n<h3>Option: Only perform these steps if using a provided database<a class=\"headerlink\" href=\"#option-only-perform-these-steps-if-using-a-provided-database\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<blockquote>\n<div><dl class=\"simple\">\n<dt>Copy an existing flatfile and corresponding netrhost.conf file</dt><dd><p>Default provied example:\n1.  cp game/netrhost.conf game/netrhost.conf.backup\n2.  cp -f minimal-DBs/minimal_db/netrhost.conf game/netrhost.conf\n3.  cd game\n4.  ./db_load data/netrhost.gdbm ../minimal-DBs/minimal_db/netrhost.db.flat data/netrhost.db.new</p>\n</dd>\n</dl>\n</div></blockquote>\n</div>\n</div>\n<div class=\"section\" id=\"configure-the-netrhost-conf-file-for-your-mush\">\n<h2>Configure the netrhost.conf file for your MUSH<a class=\"headerlink\" href=\"#configure-the-netrhost-conf-file-for-your-mush\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<blockquote>\n<div><p>Go into the game directory and modify the netrhost.conf file\nThe next step is configuring the mush to your config standards.\nThere is a file in the game subdirectory called \u2018netrhost.conf\u2019.\nYou hand-edit this file and just follow what it says each\none does.  It\u2019s very well documented and should give you\ngreat details on what to edit.  For most things, you can\nfeel comfortable to stick with the defaults unless you wish\nto change them.  The port and debug_id need to be changed.</p>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"start-the-mush-and-login\">\n<h2>Start the MUSH and login<a class=\"headerlink\" href=\"#start-the-mush-and-login\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<blockquote>\n<div><p>From the game diretory issue: ./Startmush</p>\n<blockquote>\n<div><p>To login:  co Wizard Nyctasia</p>\n</div></blockquote>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"option-things-to-do-once-you-have-connected-if-you-did-not-use-a-provided-database\">\n<h2>Option: Things to do once you have connected if you did NOT use a provided database<a class=\"headerlink\" href=\"#option-things-to-do-once-you-have-connected-if-you-did-not-use-a-provided-database\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<blockquote>\n<div><ol class=\"loweralpha\">\n<li><p>&#64;dig your master room and in your netrhost.conf file define master_room\nto this dbref (without the #.  So like master_room 2)</p></li>\n<li><p>Create an immortal holder charater (&#64;pcreate then &#64;set immortal)\nFeel free to set up holder characters for all the bittypes which are:</p>\n<blockquote>\n<div><p>GUILDMASTER, ARCHITECT, COUNCILOR, WIZARD, IMMORTAL</p>\n</div></blockquote>\n</li>\n<li><p>&#64;chown/preserve the master room and #0 to the immortal holder character.</p></li>\n<li><p>Log into the immortal character</p></li>\n<li><p>&#64;pcreate all your guest characters and set them up properly.  My suggestion:\n&#64;dolist lnum(1,10)={&#64;pcreate Guest##=guest;&#64;set <a href=\"#id1\"><span class=\"problematic\" id=\"id2\">*</span></a>Guest##=guest;&#64;desc <a href=\"#id3\"><span class=\"problematic\" id=\"id4\">*</span></a>Guest##=A guest player.;&#64;adisconnect <a href=\"#id5\"><span class=\"problematic\" id=\"id6\">*</span></a>Guest##=home;&#64;lock <a href=\"#id7\"><span class=\"problematic\" id=\"id8\">*</span></a>Guest##=*Guest##}</p>\n<p>&#64;list guest will show your guest characters and if they\u2019re set up properly.</p>\n</li>\n<li><p>Any master room code you load in from your immholder character (or &#64;chown/preserve to it)\nThe readme directory has softfunctions.minmax that has MUX/Penn compatability functions and comsys.\nAll other softcode (like mail wrappers) can be found on <a class=\"reference external\" href=\"http://code.google.com/p/rhostmush\">http://code.google.com/p/rhostmush</a> in downloads.</p></li>\n</ol>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"setup-new-character-staff-and-take-tasks-that-can-only-be-accomplished-by-1\">\n<h2>Setup new character, staff, and take tasks that can only be accomplished by #1<a class=\"headerlink\" href=\"#setup-new-character-staff-and-take-tasks-that-can-only-be-accomplished-by-1\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<blockquote>\n<div><p>Set up any other characters you want.  Anyone immortal can issue &#64;function, &#64;admin, or anything #1 can do.</p>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"setup-daily-backups-for-your-game\">\n<h2>Setup daily backups for your game<a class=\"headerlink\" href=\"#setup-daily-backups-for-your-game\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<blockquote>\n<div><p>Make SURE YOU RUN DAILY Backups.  Rhost is very stable, but things outside the mush can damage the game.\nparanoia is fine, especially when they really are out to get you.  TO make the backups, do the following:</p>\n<p>&#64;dump/flat      \u2013 This makes a flatfile dump of the main database.  You want to run this daily.\nwmail/unload    \u2013 This makes a flatfile dump of the mail database.  You want to run this daily.\n&#64;areg/unload    \u2013 Only worry about this if you are using auto-registration emailing.  Few do.\nnewsdb/unload   \u2013 Only worry if you use the hardcoded bbs system.  Most don\u2019t use it.</p>\n<p>The backup_flat.sh script (that launches automatically with Startmush) will archive all the above files\nif they exist.  It moves these flatfiles into the \u2018prevflat\u2019 directory, then tarballs those and dumps\nconsecutive backups in the \u2018oldflat\u2019 directory.  By default it keeps 7 consecutive backups.  You may\nalter this in the backup_flat.sh script itself.</p>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"customtize-the-textfiles-for-your-game\">\n<h2>Customtize the textfiles for your game<a class=\"headerlink\" href=\"#customtize-the-textfiles-for-your-game\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<blockquote>\n<div><p>All connect.txt and customized files can be found in the ~/Server/game/txt directory.  There is a\nREADME file there that explains their purposes in more detail.  You can see more information on\nall files and how they inter-relate with \u2018wizhelp file\u2019.</p>\n</div></blockquote>\n</div>\n<div class=\"section\" id=\"make-sure-to-read-up-further\">\n<h2>Make sure to read up further<a class=\"headerlink\" href=\"#make-sure-to-read-up-further\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<blockquote>\n<div><p>The wiz bits can be confusing, so \u2018wizhelp control\u2019 is very helpful to give a high overview\nof what each bit does and their inter-relationship is.</p>\n</div></blockquote>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["25-godpasswd", "How to reset the password for #1", "N", "next"], ["23-random", "Random notes and things to know about RhostMUSH", "P", "previous"]], "sourcename": "24-quickinstall.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Quickinstall guide to RhostMUSH</a><ul>\n<li><a class=\"reference internal\" href=\"#obtaining-rhostmush\">Obtaining RhostMUSH</a></li>\n<li><a class=\"reference internal\" href=\"#important-before-you-actually-start-building\">Important before you actually start building</a></li>\n<li><a class=\"reference internal\" href=\"#using-the-prebuilt-flatfile\">Using the prebuilt flatfile</a><ul>\n<li><a class=\"reference internal\" href=\"#to-load-a-prebuilt-flatfile\">To load a prebuilt flatfile</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#starting-from-scratch-with-a-brand-new-database\">Starting from scratch with a brand new database</a></li>\n<li><a class=\"reference internal\" href=\"#instructions-for-starting-a-new-rhostmush\">Instructions for starting a new RhostMUSH</a><ul>\n<li><a class=\"reference internal\" href=\"#setup-directory-permissions\">Setup directory permissions</a></li>\n<li><a class=\"reference internal\" href=\"#compile-the-source-code\">Compile the source code</a><ul>\n<li><a class=\"reference internal\" href=\"#manual-configuration-of-source-code\">Manual configuration of source code</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#loading-a-database-for-your-mush\">Loading a database for your MUSH</a><ul>\n<li><a class=\"reference internal\" href=\"#option-only-perform-these-steps-if-using-a-provided-database\">Option: Only perform these steps if using a provided database</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#configure-the-netrhost-conf-file-for-your-mush\">Configure the netrhost.conf file for your MUSH</a></li>\n<li><a class=\"reference internal\" href=\"#start-the-mush-and-login\">Start the MUSH and login</a></li>\n<li><a class=\"reference internal\" href=\"#option-things-to-do-once-you-have-connected-if-you-did-not-use-a-provided-database\">Option: Things to do once you have connected if you did NOT use a provided database</a></li>\n<li><a class=\"reference internal\" href=\"#setup-new-character-staff-and-take-tasks-that-can-only-be-accomplished-by-1\">Setup new character, staff, and take tasks that can only be accomplished by #1</a></li>\n<li><a class=\"reference internal\" href=\"#setup-daily-backups-for-your-game\">Setup daily backups for your game</a></li>\n<li><a class=\"reference internal\" href=\"#customtize-the-textfiles-for-your-game\">Customtize the textfiles for your game</a></li>\n<li><a class=\"reference internal\" href=\"#make-sure-to-read-up-further\">Make sure to read up further</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "24-quickinstall", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12", "insegel_version": "1.1.0"}