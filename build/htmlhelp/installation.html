

<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation</title>
  

  
  
  
  

  

  
  

  <link rel="stylesheet" href="_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="next" title="Database" href="database.html" />
    <link rel="prev" title="Requirements" href="requirements.html" /> 

</head>

<body>
    <header>
        <div class="container">
            <a class="site-nav-toggle hidden-lg-up"><i class="icon-menu"></i></a>
            <a class="site-title" href="index.html">
                RhostMUSH Handbook
            </a>
        </div>
    </header>


<div class="breadcrumbs-outer hidden-xs-down">
    <div class="container">
        















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="breadcrumbs">
    
      <li><a href="index.html">Docs</a></li>
        
      <li>Installation</li>
    
    
      <li class="breadcrumbs-aside">
        
            
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
</div>
    </div>
</div>
    <div class="main-outer">
        <div class="container">
            <div class="row">
                <div class="col-12 col-lg-3 site-nav">
                    
<div role="search">
    <form class="search" action="search.html" method="get">
        <div class="icon-input">
            <input type="text" name="q" placeholder="Search" />
            <span class="icon-search"></span>
        </div>
        <input type="submit" value="Go" class="d-hidden" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
                    <div class="site-nav-tree">
                        
                            
                            
                                <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="features.html">What RhostMUSH is about and what’s so great about RhostMUSH</a><ul>
<li class="toctree-l2"><a class="reference internal" href="features.html#recycle-bin">Recycle bin</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#snapshot">&#64;snapshot</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#wizard-and-immortals-by-default">Wizard and Immortals by default</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#titles-and-captions-to-a-player-s-name">Titles and Captions to a player’s name</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#have-an-alternate-name-with-locks-for-npc-obfuscation">Have an alternate name with locks for NPC obfuscation</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#have-multiple-player-aliases">Have multiple player aliases</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#actively-control-how-dark-works-both-game-wide-and-individually">Actively control how dark works both game-wide and individually</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#make-config-file-changes-in-game-without-having-to-reboot-or-have-shell-access">Make config file changes in-game without having to reboot or have shell access</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#execute-any-binary-or-script-as-a-localized-function">Execute any binary or script as a localized function</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#customized-percent-substitutions-like-n-etc">Customized percent substitutions (like %n, %#, etc)</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#redefine-percent-substitutions-like-n-etc">Redefine percent substitutions (like %n, %#, etc)</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#localize-command-and-function-overrides-in-a-sandbox">Localize command and function overrides in a sandbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#multiple-zones">Multiple Zones</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#optionally-control-enable-or-disable-sideeffects">Optionally control, enable, or disable sideeffects</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#have-31-cross-interactive-realities-for-locations">Have 31 cross-interactive realities for locations</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#override-any-command-with-softcode">Override any command with softcode</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#the-abilility-to-raise-or-lower-permissions-on-the-various">The abilility to raise or lower permissions on the various</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#customize-new-commands-on-the-connect-screen">Customize new commands on the connect screen</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#softcode-any-txt-file-like-connect-txt">Softcode any txt file (like connect.txt)</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#advanced-tracing-methods-for-debugging-your-code-including-labels">Advanced tracing methods for debugging your code including labels!</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#built-in-pretty-printing-of-attributes-with-the-parenmatch-function">Built in pretty-printing of attributes with the parenmatch() function</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#plenty-more-not-mentioned">Plenty more not mentioned!</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#advanced-features-of-rhostmush">Advanced features of RhostMUSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html#random-notes-and-things-to-know-about-rhostmush">Random notes and things to know about RhostMUSH</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="differences.html">Comparison of modern MUSH servers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="differences.html#differences-to-expect-to-the-end-user-between-pennmush-mux-and-rhostmush">Differences to expect to the end user between PennMUSH, MUX, and RhostMUSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="differences.html#comparison-of-features-between-rhostmush-pennmush-and-mux2">Comparison of features between RhostMUSH, PennMUSH, and MUX2</a></li>
<li class="toctree-l2"><a class="reference internal" href="differences.html#organization-of-help-and-wizhelp">Organization of help and wizhelp</a></li>
<li class="toctree-l2"><a class="reference internal" href="differences.html#mail-comsystem-guests-master-rooms-etc">Mail, comsystem, guests, master rooms, etc..</a></li>
<li class="toctree-l2"><a class="reference internal" href="differences.html#comparisons-of-features">Comparisons of features</a></li>
<li class="toctree-l2"><a class="reference internal" href="differences.html#commands-with-equivalents">&#64;commands with equivalents</a></li>
<li class="toctree-l2"><a class="reference internal" href="differences.html#commands-unique-to-rhostmush">&#64;commands unique to RhostMUSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="differences.html#lock-equivalents">&#64;lock equivalents</a></li>
<li class="toctree-l2"><a class="reference internal" href="differences.html#locks-that-only-exist-in-rhostmush">&#64;locks that only exist in RhostMUSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="differences.html#flag-and-toggle-equivalents">Flag and toggle equivalents</a></li>
<li class="toctree-l2"><a class="reference internal" href="differences.html#flags-and-toggles-that-only-exist-in-rhostmush">Flags and toggles that only exist in RhostMUSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="differences.html#power-equivalents">&#64;power equivalents</a></li>
<li class="toctree-l2"><a class="reference internal" href="differences.html#functions-equivalents">Functions equivalents</a></li>
<li class="toctree-l2"><a class="reference internal" href="differences.html#what-may-need-to-be-modified-to-get-softcode-from-pennmush-tinymush2-tinymush3-or-mux2-to-work-on-rhost">What may need to be modified to get softcode from PennMUSH, TinyMUSH2, TinyMUSH3, or MUX2 to work on Rhost</a></li>
<li class="toctree-l2"><a class="reference internal" href="differences.html#things-other-mushes-can-do-that-rhost-can-not-and-how-to-emulate-it">Things other mushes can do that Rhost can not and how to emulate it</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="requirements.html#system-requirements">System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="requirements.html#id2">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="requirements.html#hosting-requirements">Hosting Requirements</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#compiling-the-code">Compiling the code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-the-game">Configuring the game</a></li>
<li class="toctree-l2"><a class="reference internal" href="#starting-the-game">Starting the game</a></li>
<li class="toctree-l2"><a class="reference internal" href="#first-login-to-the-game">First login to the game</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reporting-bugs-or-getting-help">Reporting bugs or getting help</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-using-an-ansible-playbook">Installing using an ansible playbook</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quickinstall-guide-to-rhostmush">Quickinstall guide to RhostMUSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-to-type-to-configure-and-get-your-rhostmush-up-and-running">What to type to configure and get your RhostMUSH up and running</a></li>
<li class="toctree-l2"><a class="reference internal" href="#windows">Windows</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="database.html">Database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="database.html#loading-an-existing-database">Loading an existing Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="database.html#converting-a-flatfile-database-for-use-in-rhostmush">Converting a flatfile database for use in RhostMUSH</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="gettingstarted.html">Gettin Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted.html#what-to-type-to-get-the-basics-running-if-you-did-not-choose-a-pre-existing-flatfile">What to type to get the basics running if you did not choose a pre-existing flatfile</a></li>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted.html#minimal-db-instructions">Minimal DB instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted.html#ambrosia-s-minimal-rhost-db">Ambrosia’s Minimal Rhost DB</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="toggles.html">What FLAGS, TOGGLES, POWERS, DEPOWERS, and BITLEVELS mean in RhostMUSH</a><ul>
<li class="toctree-l2"><a class="reference internal" href="toggles.html#flags">Flags</a></li>
<li class="toctree-l2"><a class="reference internal" href="toggles.html#toggles">Toggles</a></li>
<li class="toctree-l2"><a class="reference internal" href="toggles.html#power">&#64;power</a></li>
<li class="toctree-l2"><a class="reference internal" href="toggles.html#depower">&#64;depower</a></li>
<li class="toctree-l2"><a class="reference internal" href="toggles.html#multi-tiered-bitlevel-systems">Multi-tiered bitlevel systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="toggles.html#altering-bitlevels">Altering bitlevels</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a><ul>
<li class="toctree-l2"><a class="reference internal" href="security.html#considerations-to-locking-down-restrictions-in-rhostmush">Considerations to locking down restrictions in RhostMUSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#extended-lockdown-of-the-mush-and-considerations">Extended lockdown of the mush and considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#methods-to-block-anonymous-connections-and-the-pros-and-cons-of-doing-so">Methods to block anonymous connections and the pros and cons of doing so</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#setting-up-an-ssl-tunnel-for-secure-connection-options">Setting up an SSL tunnel for secure connection options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="maintenance.html">Maintenance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#signals-and-why-you-need-them-for-control">Signals and why you need them for control</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#shutting-down-gracefully">Shutting down gracefully</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#autoshutdown-script">Autoshutdown script</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#network-port-redirector">Network Port redirector</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#using-the-built-in-cron-system-for-periodically-running-commands">Using the built-in cron system for periodically running commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#the-following-scripts-are-used-in-the-game-directory">The following scripts are used in the game directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#textfiles-for-rhostmush">Textfiles for RhostMUSH</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#stack-limit-and-debugging">Stack limit and debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#how-to-reset-the-password-for-1">How to reset the password for #1</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#troubleshooting-difficulties-compiling-rhostmush">Troubleshooting difficulties compiling RhostMUSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#dealing-with-db-corruption">Dealing with DB Corruption</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#dealing-with-a-corrupt-mail-database">Dealing with a corrupt mail database</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="upgrade.html">Upgrading</a><ul>
<li class="toctree-l2"><a class="reference internal" href="upgrade.html#converting-database-betwen-gdbm-and-qdbm">Converting database betwen GDBM and QDBM</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrade.html#updating-rhostmush-prior-to-3-9-5p2">Updating RhostMUSH prior to 3.9.5p2</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrade.html#adding-mysql-to-rhostmush-older-than-3-9-5p2">Adding MySQL to RhostMUSH older than 3.9.5p2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="advanced.html#adding-hardcoded-modules">Adding hardcoded modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced.html#shutting-down-gracefully">Shutting down gracefully</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced.html#reality-levels">Reality levels</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced.html#execscript-and-external-programs-and-scripts">Execscript and external programs and scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced.html#using-printf-for-advanced-text-output">Using printf() for advanced text output</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html#format-for-image-files">Format for image files</a></li>
<li class="toctree-l1"><a class="reference internal" href="flags.html">Comparison of Flags</a></li>
<li class="toctree-l1"><a class="reference internal" href="powers.html">Comparison of powers</a></li>
<li class="toctree-l1"><a class="reference internal" href="helpfile.html">RhostMUSH Internal Help Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="wizhelpfile.html">RhostMUSH Internal Wizhelp Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="nda.html">Historical Non-Disclosure Agreement</a></li>
</ul>

                            
                        
                    </div>
                </div>
                <div class="col-12 col-lg-9">
                    <div class="document">
                        
                            
  <div class="section" id="installation">
<h1>Installation</h1>
<div class="section" id="compiling-the-code">
<h2>Compiling the code</h2>
<p>make confsource</p>
<p>Yes, that’s all you have to do.</p>
<p>You may also issue ‘make source’ if the Makefile is already defined how
you want it to be.  Please remember to ‘make clean’ before ‘make source’
whenever you alter the code or import new source code.</p>
<div class="section" id="note-about-compiling">
<h3>Note about Compiling</h3>
<p>To install, type:  make confsource</p>
<p>If your binaries do not work or you get an error type:  ./bin/script_setup.sh
Then type: make confsource</p>
<p>If you are importing a MUX2 flatfile, make ABSOLUTELY SURE that you select
mux passwords as a compatibility option, or you will NOT BE ABLE to log in
to players as the password will not be recognizeable.</p>
<p>Make sure to keep QDBM selected as it’s a much more stable database engine
that does not have attribute limit restrictions like GDBM does.</p>
<p>If you are converting from a Penn, TinyMUSH, or MUX database, make sure you
drill down into the LBUF section and select, at minimum, 8K lbufs.  You likely
want that anyway as it gives you far more room for attribute content storage.</p>
<p>You can go up to 32K safely.  While 64k is safe and does work, there are issues
with networking and older routers that use a 32K TCP buffer size that can
at times cut off the data as overflow resulting in output to the end-point
players not receiving their data.  So it is strongly recommended not to go
above 32K in lbuffer size.</p>
<p>Go ahead and select 64 char attributes.  It allows you to have 64 characters
for attribute names.  It’s handy to have.</p>
<p>If you wish at this point to set up mysql and/or sqlite, you  may do so.
Yes, you can use them in parallel without any issue.</p>
</div>
<div class="section" id="note-about-recompiling">
<h3>Note about Recompiling</h3>
<p>If you plan to use ‘make confsource’ to recompile your source, you should first
issue a ‘make clean’ before re-issuing a ‘make confsource’.  ‘make confsource’
remembers the last options you used.</p>
<p>A failure to issue ‘make clean’ prior to re-compiling with ‘make confsource’ or
re-compiling with ‘make source’ can potentially leave stale object files which
may cause unforseen issues when running code, including but not limited to
random crashes.  Generally whenever recompiling it’s good to always make clean
first.</p>
</div>
<div class="section" id="note-about-patching">
<h3>Note about Patching</h3>
<p>There’s two ways you can look to patch the source.  If you plan to run the
RhostMUSH source from a git repository, then please use the git repo to
constantly update your code.  If you knew enough to want to set up a git repo
then we expect knowledge on how to keep source trees updated in the git repo
to be used the same as any other source distribution.</p>
<p>If, however, you have no idea what a git repo even is, or have no inclination
of using git to manage your RhostMUSH source, or just don’t care one way
or another, then you can use the included patch.sh routine (from under the
Server directory) to patch your source at any time.</p>
<p>From the server directory just type: ./patch.sh</p>
<p>That will auto-compile your source, auto make all your header files and
essentially keep everything up to date to the latest source.
Once that’s done, all you do from within the game is two commands:</p>
<ol class="arabic simple">
<li>&#64;reboot (or &#64;reboot/silent)  – This will load in the new binary</li>
<li>&#64;readcache  – This will read in all the .txt file changes</li>
</ol>
</div>
</div>
<div class="section" id="configuring-the-game">
<h2>Configuring the game</h2>
<p>When setting up a mush for the first time, make sure you
have all the files configured correctly.  This is with using
the following file for configuration:</p>
<blockquote>
<div><ul class="simple">
<li>netrhost.conf</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="starting-the-game">
<h2>Starting the game</h2>
<dl class="docutils">
<dt>Once done, you start up the system with the following command:</dt><dd><ul class="simple">
<li>[sh/csh] ./Startmush</li>
</ul>
<p>It will prompt you to start a new db if it doesn’t find one.</p>
<p>You may also do the commands individually:
- [csh] netrhost -s netrhost.conf &gt;&amp; netrhost.log &amp;</p>
<blockquote>
<div>[sh]  netrhost -s netrhost.conf &gt; netrhost.log 2&gt;&amp;1 &amp;</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="first-login-to-the-game">
<h2>First login to the game</h2>
<p>Once started, log in the #1 character (Wizard) with it’s appropiate
password (no, not ‘potrzebie’, but ‘Nyctasia’).  There were private
reasons for the password change.</p>
<p>Once in, do a &#64;shutdown to save the database.  Then you can run Startup
normally.   You may make a backup of your database at anytime on-line by
utilizing the &#64;dump/flat option.  A script comes with this distribution
that allows the ability of auto-archiving your database for a configurable
number of backups.</p>
</div>
<div class="section" id="reporting-bugs-or-getting-help">
<h2>Reporting bugs or getting help</h2>
<p>If you find any bugs or problems, notify one of the developers of RhostMUSH and
a patch or workaround will be made available as soon as possible.  Current
developers are:  Seawolf, Thorin, Ashen-Shugar, Lensman, Kale, Mac, Zenty,
Ambrosia, Amos, and Morgan.  They can be found around the net.</p>
</div>
<div class="section" id="installing-using-an-ansible-playbook">
<h2>Installing using an ansible playbook</h2>
<p>To begin, you will run the following command in a directory that will house your game:</p>
<blockquote>
<div>&gt; <strong>git clone https://github.com/RhostMUSH/trunk Rhost</strong></div></blockquote>
<dl class="docutils">
<dt>You may also just run the yml file and ansible (ansible-playbook) to install your RhostMUSH engine</dt><dd><p>&gt; <strong>wget https://raw.githubusercontent.com/RhostMUSH/trunk/master/rhostinstall.yml</strong></p>
<p>&gt; <strong>ansible-playbook rhostinstall.yml</strong></p>
</dd>
</dl>
<p>This downloads the latest stable version of the code, bringing with it all patches and scripts, documentation and support tools that you will need.</p>
</div>
<div class="section" id="quickinstall-guide-to-rhostmush">
<h2>Quickinstall guide to RhostMUSH</h2>
<div class="section" id="obtaining-rhostmush">
<h3>Obtaining RhostMUSH</h3>
<p>It is assumed that you have gotten to this point with the following command:</p>
<p>git clone <a class="reference external" href="https://github.com/RhostMUSH/trunk" target="_blank">https://github.com/RhostMUSH/trunk</a> Rhost</p>
<p>If you did NOT get it this way, your file permissions may not be properly set
up.  Please type:</p>
<blockquote>
<div>chmod +rx bin/<em>.sh src/</em>.sh game/<em>.sh game/Startmush game/db_</em></div></blockquote>
<p>This makes sure all the build scripts are properly made executable.
This will result in ‘permission denied’ or similar results when running a script.</p>
<p>Once ready to compile type:</p>
<blockquote>
<div>make confsource</div></blockquote>
<p>This will bring up a menu where you can selection options.</p>
</div>
<div class="section" id="important-before-you-actually-start-building">
<h3>Important before you actually start building</h3>
<p>The main parts of making your RhostMUSH, easy pleasy:
0.  The stunnel directory contains TLS/SSL connectivity.  This has to be linked</p>
<blockquote>
<div>to another port and will tunnel to the mush port.  The README file explains
how to set up and configure your TLS/SSL connection.</div></blockquote>
<ol class="arabic simple">
<li>./patch.sh – This makes sure you have the latest code.
If you got this by git clone <a class="reference external" href="https://github.com/RhostMUSH/trunk" target="_blank">https://github.com/RhostMUSH/trunk</a>
then you can ignore patching.  You can use ./patch.sh at any
time to update your code.  It ignores local.c incase you make
your own modules.</li>
<li>make confsource.  Yup, it’s menu driven, nifty eh?
Options you may want to select (other than the defaults):
5  (%c is selected by default, but choose %x as well for MUX/TM3 compat)
9  (if you want $commands to require the COMMAND flag)
16 (if you want a wider WHO listing like older versions of MUX)
22 (if you’re converting a TinyMUSH3 or TinyMUX/MUX2 flatfile)
24 (if you have issues with -lssl not being found)
B3 (for 64 character attribute names)
B6 (select 8K for Penn/MUX2/TM3 default, up to 32K.  64K is network intensive)
B5 (will be autoselected if you choose 8K or more.  Pick this anyway)
B4 (if you have sqlite libraries and wish to use this)</li>
<li>‘r’ to compile with the settings you selected.</li>
<li>Modify your netrhost.conf file as specified.  Make sure to align
your port and debug_id as shown in the netrhost.conf file.</li>
<li>If you wish to port in an old flatfile, please refer to the readme directory
on how to port your flatfile in (README.DBLOADING).</li>
</ol>
</div>
<div class="section" id="using-the-prebuilt-flatfile">
<h3>Using the prebuilt flatfile</h3>
<p>There are pre-loaded flatfile databases you can use at this point.  The netrhost.db.flat
and corrisponding netrhost.conf file will be located in the minimal-DBs/minimal_db directory.</p>
<p>You may auto-load the minimal db and corresponding netrhost.conf file with the
command:</p>
<blockquote>
<div>./minimal.sh</div></blockquote>
<p>This is ran from within the ‘game’ directory.  Once this is ran, you will need
to customize the netrhost.conf file for your purposes.  The port and debug_id must
be changed at the very least.  Keep the debug_id coordinated to the port as described.</p>
<div class="section" id="to-load-a-prebuilt-flatfile">
<h4>To load a prebuilt flatfile</h4>
<p>To use these follow these steps:
1.  Make a backup of your existing netrhost.conf file</p>
<blockquote>
<div>–&gt; cp game/netrhost.conf game/netrhost.conf.backup</div></blockquote>
<ol class="arabic" start="2">
<li><p class="first">Copy the netrhost.conf file into your game directory
–&gt; cp -f ./minimal-DBs/minimal_db/netrhost.conf ./game/netrhost.conf</p>
</li>
<li><p class="first">At this point you can modify your netrhost.conf file settings in your game directory.
Using an editor modify the ‘port’ and ‘debug_id’ respectively in your netrhost.conf as stated.
The ‘port’ will be the port the mush listens on, the debug_id is for the debug-stack and is
your port with a ‘5’ at the end.  So if your port is 4444, the debug_id is 44445</p>
</li>
<li><p class="first">Load in the flatfile into the mush (You could do this in the Startmush as well)
Manually:
–&gt; cd game
–&gt; ./db_load data/netrhost.gdbm ../minimal-DBs/minimal_db/netrhost.db.flat data/netrhost.db.new</p>
<p>Start your mush:
–&gt; ./Startmush</p>
<p>This will load the db that you loaded.</p>
<p>—————OR——-</p>
<p>From Startmush:
–&gt; ./Startmush</p>
<p>when prompted, hit &lt;RETURN&gt; for searching then select the number of the netrhost.db.flat that is
listed as ~/minimal-DBs/minimal_db/netrhost.db.flat</p>
</li>
</ol>
</div>
</div>
<div class="section" id="starting-from-scratch-with-a-brand-new-database">
<h3>Starting from scratch with a brand new database</h3>
<ol class="arabic simple">
<li>You can modify your netrhost.conf file settings in your game directory.
Using an editor modify the ‘port’ and ‘debug_id’ respectively in your netrhost.conf as stated.
The ‘port’ will be the port the mush listens on, the debug_id is for the debug-stack and is
your port with a ‘5’ at the end.  So if your port is 4444, the debug_id is 44445</li>
<li>Start your mush:
–&gt; ./Startmush</li>
</ol>
<p>You can use the ‘vi’ editor or ‘nano’ if you like a more menu driven DOS like experience.
You can of course use any other editor you’re familar with.</p>
<p>For a more thorough understanding of how to set things up, keep reading!</p>
<p>If you have syntax issues running ‘make config’, ‘make confsource’
or ‘make bugreport’ please run the script: ./bin/script_setup.sh</p>
<p>Now… things you may need to do on errors.</p>
</div>
<div class="section" id="instructions-for-starting-a-new-rhostmush">
<h3>Instructions for starting a new RhostMUSH</h3>
<div class="section" id="setup-directory-permissions">
<h4>Setup directory permissions</h4>
<blockquote>
<div><p>run ./dirsetup.sh</p>
<p>This is a simple script that will change file permissions
and directory permissions to properly protect RhostMUSH.
These settings generally work fine out of the box so
you likely won’t even have to set this up if you don’t want to.</p>
</div></blockquote>
</div>
<div class="section" id="compile-the-source-code">
<h4>Compile the source code</h4>
<blockquote>
<div><p>Make and run the RhostMUSH source
Type:  make confsource</p>
<p>If you get an error running the script itself,
type: ./bin/script_setup.sh</p>
<p>Then type: make confsource</p>
<p>After the compile process is done, you should be good to go.
If it complains about missing binaries then type ‘make links’</p>
</div></blockquote>
<div class="section" id="manual-configuration-of-source-code">
<h5>Manual configuration of source code</h5>
<blockquote>
<div><blockquote>
<div><p>To do manual configuration (skip if the previous step worked for you)
And yes, this is a bit of a pain in the bottom, hopefully you
will not need this.</p>
<blockquote>
<div><p>You need the following definitions defined to make this
work:  TINY_U, USE_SIDEEFFECTS, MUX_INCDEC, ATTR_HACK</p>
<blockquote>
<div>(u()/u2() switched)
(sideeffects)
(inc()/xinc() switched)
(support for _/~ attribs)</div></blockquote>
<p>You only need to do this if you received the RhostMUSH src.
If you received a binary, continue on to the next part.</p>
<p>To compile the code, just type ‘make confsource’.  It will
prompt you with settings on what you need to do.  If you
just want to quickly hand edit the Makefile, it is in the
directory src (full path src/Makefile).  Then you may just
run ‘make source’, if you so choose to hand-edit the Makefile.</p>
</div></blockquote>
</div></blockquote>
<p>After the compile process is done, type ‘make links’!</p>
<blockquote>
<div></div></blockquote>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="loading-a-database-for-your-mush">
<h3>Loading a database for your MUSH</h3>
<p>You now have a choice of optionally starting at a provided database or starting from scratch.</p>
<div class="section" id="option-only-perform-these-steps-if-using-a-provided-database">
<h4>Option: Only perform these steps if using a provided database</h4>
<blockquote>
<div><dl class="docutils">
<dt>Copy an existing flatfile and corresponding netrhost.conf file</dt><dd>Default provied example:
1.  cp game/netrhost.conf game/netrhost.conf.backup
2.  cp -f minimal-DBs/minimal_db/netrhost.conf game/netrhost.conf
3.  cd game
4.  ./db_load data/netrhost.gdbm ../minimal-DBs/minimal_db/netrhost.db.flat data/netrhost.db.new</dd>
</dl>
</div></blockquote>
</div>
</div>
<div class="section" id="configure-the-netrhost-conf-file-for-your-mush">
<h3>Configure the netrhost.conf file for your MUSH</h3>
<blockquote>
<div>Go into the game directory and modify the netrhost.conf file
The next step is configuring the mush to your config standards.
There is a file in the game subdirectory called ‘netrhost.conf’.
You hand-edit this file and just follow what it says each
one does.  It’s very well documented and should give you
great details on what to edit.  For most things, you can
feel comfortable to stick with the defaults unless you wish
to change them.  The port and debug_id need to be changed.</div></blockquote>
</div>
<div class="section" id="start-the-mush-and-login">
<h3>Start the MUSH and login</h3>
<blockquote>
<div><p>From the game diretory issue: ./Startmush</p>
<blockquote>
<div>To login:  co Wizard Nyctasia</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="option-things-to-do-once-you-have-connected-if-you-did-not-use-a-provided-database">
<h3>Option: Things to do once you have connected if you did NOT use a provided database</h3>
<blockquote>
<div><ol class="loweralpha">
<li><p class="first">&#64;dig your master room and in your netrhost.conf file define master_room
to this dbref (without the #.  So like master_room 2)</p>
</li>
<li><p class="first">Create an immortal holder charater (&#64;pcreate then &#64;set immortal)
Feel free to set up holder characters for all the bittypes which are:</p>
<blockquote>
<div><p>GUILDMASTER, ARCHITECT, COUNCILOR, WIZARD, IMMORTAL</p>
</div></blockquote>
</li>
<li><p class="first">&#64;chown/preserve the master room and #0 to the immortal holder character.</p>
</li>
<li><p class="first">Log into the immortal character</p>
</li>
<li><p class="first">&#64;pcreate all your guest characters and set them up properly.  My suggestion:
&#64;dolist lnum(1,10)={&#64;pcreate Guest##=guest;&#64;set <a href="#id1"><span class="problematic" id="id2">*</span></a>Guest##=guest;&#64;desc <a href="#id3"><span class="problematic" id="id4">*</span></a>Guest##=A guest player.;&#64;adisconnect <a href="#id5"><span class="problematic" id="id6">*</span></a>Guest##=home;&#64;lock <a href="#id7"><span class="problematic" id="id8">*</span></a>Guest##=*Guest##}</p>
<p>&#64;list guest will show your guest characters and if they’re set up properly.</p>
</li>
<li><p class="first">Any master room code you load in from your immholder character (or &#64;chown/preserve to it)
The readme directory has softfunctions.minmax that has MUX/Penn compatability functions and comsys.
All other softcode (like mail wrappers) can be found on <a class="reference external" href="https://github.com/RhostMUSH/trunk" target="_blank">https://github.com/RhostMUSH/trunk</a> in Mushcode.</p>
</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="setup-new-character-staff-and-take-tasks-that-can-only-be-accomplished-by-1">
<h3>Setup new character, staff, and take tasks that can only be accomplished by #1</h3>
<blockquote>
<div>Set up any other characters you want.  Anyone immortal can issue &#64;function, &#64;admin, or anything #1 can do.</div></blockquote>
</div>
<div class="section" id="setup-daily-backups-for-your-game">
<h3>Setup daily backups for your game</h3>
<blockquote>
<div><p>Make SURE YOU RUN DAILY Backups.  Rhost is very stable, but things outside the mush can damage the game.
paranoia is fine, especially when they really are out to get you.  TO make the backups, do the following:</p>
<p>&#64;dump/flat      – This makes a flatfile dump of the main database.  You want to run this daily.
wmail/unload    – This makes a flatfile dump of the mail database.  You want to run this daily.
&#64;areg/unload    – Only worry about this if you are using auto-registration emailing.  Few do.
newsdb/unload   – Only worry if you use the hardcoded bbs system.  Most don’t use it.</p>
<p>The backup_flat.sh script (that launches automatically with Startmush) will archive all the above files
if they exist.  It moves these flatfiles into the ‘prevflat’ directory, then tarballs those and dumps
consecutive backups in the ‘oldflat’ directory.  By default it keeps 7 consecutive backups.  You may
alter this in the backup_flat.sh script itself.</p>
</div></blockquote>
</div>
<div class="section" id="customtize-the-textfiles-for-your-game">
<h3>Customtize the textfiles for your game</h3>
<blockquote>
<div>All connect.txt and customized files can be found in the ~/Server/game/txt directory.  There is a
README file there that explains their purposes in more detail.  You can see more information on
all files and how they inter-relate with ‘wizhelp file’.</div></blockquote>
</div>
<div class="section" id="make-sure-to-read-up-further">
<h3>Make sure to read up further</h3>
<blockquote>
<div>The wiz bits can be confusing, so ‘wizhelp control’ is very helpful to give a high overview
of what each bit does and their inter-relationship is.</div></blockquote>
</div>
</div>
<div class="section" id="what-to-type-to-configure-and-get-your-rhostmush-up-and-running">
<h2>What to type to configure and get your RhostMUSH up and running</h2>
<p>You may configure Rhost three ways.</p>
<div class="section" id="creating-a-new-game-with-a-blank-database">
<h3>Creating a new game with a blank database</h3>
<blockquote>
<div>Modify your ./game/netrhost.conf file or what settings you want.
Don’t feel overwhelmed, it’s all very well documented.</div></blockquote>
</div>
<div class="section" id="creating-a-new-game-with-ambrosia-s-default-database">
<h3>Creating a new game with Ambrosia’s default database</h3>
<blockquote>
<div><p>Follow minimal-DBs/Amb-MinimalRhost/IMPORTANT_README</p>
<p>The netrhost.conf file you will copy is in minimal-DBs/Amb-MinimalRhost/game
Copy this netrhost.conf file into your ‘game’ directory.</p>
<p>You will want the custom txt files under Amb-MinimalRhost/txt in your game/txt
directory and to mkindx all the txt files.  You can run ./Startmush -i to index.</p>
<p>When ./Startmush prompts you to load a flatfile, say ‘yes’ and hit &lt;RETURN&gt;
to have it search for flatfiles, then select netrhost.db.flat from under
the minimal-DBs/Amb-MinimalRhost directory.</p>
<p>The main steps to make sure you do for Ambrosia’s db:
~/Server/minimal-DBs/Amb-MinimalRhost/netrhost.db.flat – Ambrosia’s secure and featured minimal db.</p>
<blockquote>
<div><ul class="simple">
<li>Use the matching netrhost.conf file under the Amb-MinimalRhost/game directory</li>
<li>Load in the settings specified in the Amb-MinimalRhost/bin directory.
- Copy this file into your ~/Server/bin directory
- From ‘Server’ directory type: make clean
- From ‘Server’ directory type: make confsource and ‘l’oad option 0
- Specify any -additional- options you want at this point.
- Recompile your code</li>
<li>Copy the files in Amb-MinimalRhost/game/txt into your ~/Server/game/txt directory</li>
<li>from your ~/Server/game txt file run on each of the txt files:
../mkindx &lt;txtfile&gt;.txt &lt;txtfile&gt;.indx
Where &lt;txtfile&gt; is the name of the file (minus the .txt extension)</li>
<li>If running, &#64;reboot your game.</li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="creating-a-new-game-with-the-generic-default-database">
<h3>Creating a new game with the generic default database</h3>
<blockquote>
<div><p>Copy the netrhost.conf from minimal-DBs/minimal_db to your game directory.</p>
<p>When ./Startmush prompts you to load a flatfile, say ‘yes’ and hit &lt;RETURN&gt;
to have it search for flatfiles, then select netrhost.db.flat from under
the minimal-DBs/minimal_db directory.</p>
</div></blockquote>
</div>
<div class="section" id="starting-your-mush">
<h3>Starting your MUSH</h3>
<p>Once you have used one of these three methods to obtaina database, you can start your mush up.
At this point type from the game directory:</p>
<blockquote>
<div>./Startmush</div></blockquote>
</div>
<div class="section" id="backups-for-rhostmush">
<h3>Backups for RhostMUSH</h3>
<blockquote>
<div><p>Backups are already handled and integrated with a script ‘backup_flat.sh’.
If you wish to customize this, feel free.  Again, it is well documented and
just require changing settings at the top of this script.</p>
<p>By default, it does 7 contiguous backups.  You may increase or decrease
this value to any value you want.</p>
<p>It will, by default, backup all your txt/<em>.txt files, your netrhost.conf
file, your netrhost.db.flat (mush db) file, your RhostMUSH.dump.</em>
(mail db) files, your RhostMUSH.news.* (internal news/bbs db – if used),
your RhostMUSH.areg.* (the autoregistration db – if used), and any sqlite
database you currently may be using which are OPTIONALLY backed up if you
remove the ‘#’ from before it.</p>
<p>The backup script also will optionally rcp/scp, ftp, or mail any backups
you want to a remote destination.  Be forewarned, the backup files can
potentially get rather large for larger games, even compressed.  The
average size for these files will be 1-5MB.  It could potentially get
over 10-20MB in size for excessively large games, so plan accordingly.</p>
<p>Be aware that the backup system will NOT make successful backups if you
run out of disk space.  This includes actually running out of disk space
or running out of disk quota.  There is a mechanism inside the backup
script to specify an email address that you wish to get alerts from
in these instances.  I recommend using it.</p>
<p>If you make changes to your backup_flat.sh script with an already
active and running mush and wish to just restart the backup procedure
just issue: ./backup_restart.sh</p>
</div></blockquote>
</div>
<div class="section" id="troubleshooting-issues-with-starting-up">
<h3>Troubleshooting issues with starting up</h3>
<dl class="docutils">
<dt>If you run into issues:</dt><dd><dl class="docutils">
<dt>Probelm: If it says the shared ID is already in use</dt><dd><dl class="docutils">
<dt>A1: please verify that it is the right shared debug_id in your</dt><dd>netrhost.conf file</dd>
</dl>
<p>A2: Force a start by ./Startmush -f</p>
</dd>
<dt>Problem: Your log file is massive and your mush is running</dt><dd><dl class="docutils">
<dt>A1: To rotate this use the &#64;logrotate command.</dt><dd>See wizhelp on &#64;logrotate</dd>
</dl>
</dd>
<dt>Problem: The database flatfile you’re loading can’t load because</dt><dd><blockquote>
<div>a db is already defined.</div></blockquote>
<p>A1: remove netrhost.db* and netrhost.gdbm* from your data directory</p>
</dd>
<dt>Problem: The mail database won’t load and mail shows ‘offline’</dt><dd>A1: wmail/load</dd>
</dl>
</dd>
</dl>
</div>
</div>
<div class="section" id="windows">
<h2>Windows</h2>
<div class="section" id="installing-on-windows-10-with-bash">
<h3>Installing on Windows 10 with BASH</h3>
<p>Rhost can be compiled and run under the new Bash on Ubuntu on Windows.
This has been tested with the Preview build 14342.</p>
<p>1. After installing Bash you will need to install the following packages:
git
make
gcc
openssl (optional)
libpcre3 (optional)
libpcre3-dev (optional)</p>
<p>2. When configuring rhost (using confsource) select the Disable Debugmon
option.</p>
<ol class="arabic simple" start="3">
<li>When you issue Startmush, you must pass the -cyg option.</li>
</ol>
</div>
<div class="section" id="installing-on-windows-with-cygwin">
<h3>Installing on Windows with Cygwin</h3>
<p>Rhost does work under windows using the cygwin package.</p>
<p>1.  When you do install cygwin, the following packages must be added:
make
git
gcc
crypt
openssl (optional)
gdbm
bash</p>
<ol class="arabic simple" start="2">
<li>The src/Makefile has to manually have the CYGWIN line uncommented.</li>
<li>When you issue Startmush, you must pass it the -cyg option.</li>
</ol>
</div>
</div>
</div>


                        
                    </div>
                </div>
            </div>
        </div>
    </div>    


  
    <div class="footer" role="contentinfo">
        <div class="container">
            &#169; <a href="copyright.html">Copyright</a> 2021, wstarter.
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.5.1.
        </div>
    </div>  

</body>
</html>