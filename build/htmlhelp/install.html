
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=cp1252" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2. Installing RhostMUSH</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="next" title="3. Installing using an ansible playbook" href="install/ansible.html" />
    <link rel="prev" title="1. RhostMUSH Requirements" href="install/requirements.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul></pre>
<ul>
    <li><a href="index.html">Home</a> |</li>
    <li><a href="help.html">RhostMUSH Help File</a> |</li>
    <li><a href="wizhelp.html">RhostMUSH WizHelp File</a> |</li>
    <li><a href="https://github.com/RhostMUSH/trunk">RhostMUSH Source Code</a> |</li>
    <li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">2. </span>Installing RhostMUSH</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="installing-rhostmush">
<span id="id1"></span><h1><span class="section-number">2. </span>Installing RhostMUSH</h1>
<div class="section" id="obtaining-rhostmush-source-code">
<h2><span class="section-number">2.1. </span>Obtaining RhostMUSH Source Code</h2>
<p>The only official source for obtaining RhostMUSH is through the 'RhostMUSH'
github account. If the source code was obtained in some other manner, there
are potentially any number of unintentional or intentional issues that you
might run into.</p>
<p>The recommended method of obtaing RhostMUSH is to clone it's git reposistory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">RhostMUSH</span><span class="o">/</span><span class="n">trunk</span> <span class="n">Rhost</span>
</pre></div>
</div>
<p>It is possible, but not recommended to download RhostMUSH via a web browser:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">RhostMUSH</span><span class="o">/</span><span class="n">trunk</span><span class="o">/</span><span class="n">archive</span><span class="o">/</span><span class="n">master</span><span class="o">.</span><span class="n">zip</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This documentation generally assumes that you obtained the RhostMUSH source
code by cloning it's git repository or at the very least downloading an
archive of the source code from the GitHub website.</p>
<p class="last">It also assumes that the base directory from which all commands are run
and all files are looked for is that git repo's <code class="docutils literal notranslate"><span class="pre">Server/</span></code> directory,
unless specifically noted otherwise.</p>
</div>
</div>
<div class="section" id="options-for-making-a-mush">
<h2><span class="section-number">2.2. </span>Options for making a MUSH</h2>
<p>There is a <em>lot</em> of options once your start making your MUSH, but there are
also a few big choices right as you get started making a MUSH. No matter which
choices you ultimately make, there are certain things you will need to know how
to do. This chapter is going to walk you through making the simplest possible
version of RhostMUSH. It's going to show you the things you would have to do
no matter which choices you were making.</p>
<p>In the process of making that simplest possible RhostMUSH you'll also learn
what the basics of those choices are and when and how you would make them.
Later chapters will get much more into all of those choices, but they will also
assume you know everything in this chapter already, or at least have it as a
handy point of reference.</p>
<p>While there are lots of little options, there are three big areas where you
make those choices.</p>
<div class="section" id="compile-time-options">
<h3><span class="section-number">2.2.1. </span>Compile time options</h3>
<p>One of the first steps of making a MUSH or really any computer program is
to compile the source code. This takes what's basically text files full of code
and turns them into a program you can run. Within that source code are a
number of options to choose from, but any time you want to change one of them,
you have to recompile the source code and then restart the MUSH.</p>
<p>These choices are typically made through the <code class="docutils literal notranslate"><span class="pre">confsource</span></code> menu which you'll
be seeing momentarily. There are some pretty big choices here from whether or
not you want hardcoded +help and comsys, deciding between a more secure server
and certtain powerful but potentially dangerous MUSHcode options, and then
whether or not you want to be able to connect to a variety of external programs
like databases, webservers, and even other programming languages.</p>
</div>
<div class="section" id="configuration-file-options">
<h3><span class="section-number">2.2.2. </span>Configuration file options</h3>
<p>While there are some options in RhostMUSH that can only be changed through
recompiling the source code, there are way more options that can be changed
without having to recompile. These choices are mostly made through the
<code class="docutils literal notranslate"><span class="pre">netrhost.conf</span></code> file. Whenever a MUSH starts up or gets rebooted, it's
going to look to what's in that file. A few of those choices relate to
further configuring the choices you made with <code class="docutils literal notranslate"><span class="pre">confsource</span></code></p>
<p>The <code class="docutils literal notranslate"><span class="pre">netrhost.conf</span></code> file has some aesthetic options like what if anything
it says when the database is being saved or whether or not your MUSH will
allow ANSI color, both in general, but also in things like people's names.
It has a lot of very esoteric options for tuning the performance and safety
of your MUSH. It also is where you define things that connect to your database
like your master room and guests. It let's you determine which powers your
staff does or does not have, and it's also where you have an option to change
the password for #1 should you forget it. There are ways to change some of
these options from within the MUSH and even have those changes become new
defaults that survive a reboot. One thing you set there that you definitely
can't change from within the MUSH, is which port it runs on.</p>
</div>
<div class="section" id="starting-database-options">
<h3><span class="section-number">2.2.3. </span>Starting database options</h3>
<p>This last big choice is one that you probably are well aware of at least some
of the things it allows for, mostly because the database is basically where
everyone on a MUSH lives. Most of the choices you ever make about your MUSH
will happen in the database and it's something that's basically always going
to be changing in more ways than any one person could follow. No matter how
vast the database of a MUSH gets, they all started somewhere, and that's the
last big choice you have to make.</p>
<p>Depending on how you look at it, there's somewhere between thousands of choices
and two choices for a starting database. What I mean is that you have the
choice of starting with a brand new database to populate, only a room (#0) and
you (#1), even the Master Room is something you'd have to add to it. The other
option is to import an existing database, though to choose that option you'd
also have to have access to an existing database.</p>
<p>Besides the brand new database that can be made on-demand, RhostMUSH comes with
two databases that you can use to get your start. One is called 'Minimal' and
the other is called 'Ambrosia' after the lead RhostMUSH developed that made it.
Despite the name, they're both fairly minimal, there's no grid in either, but
what you get is a lot of pre-installed softcode and security, as well as a
<code class="docutils literal notranslate"><span class="pre">netrhost.conf`</span></code> file that has been tuned to work well with it. Even if you
don't use those databases you can take ideas for the <code class="docutils literal notranslate"><span class="pre">netrhost.conf</span></code> file for
tuning your MUSH or even use some RhostMUSH commands to import that softcode
into your database.</p>
</div>
<div class="section" id="the-choices-we-make">
<h3><span class="section-number">2.2.4. </span>The Choices We Make</h3>
<p>Well, not you're aware of those three big choices, what they are, and where
you'll run across them. Later in this Handbook we'll be going through those
choices in-depth. In this chapter, what we'll be doing is using the default
options for for <code class="docutils literal notranslate"><span class="pre">confsource</span></code> and <code class="docutils literal notranslate"><span class="pre">netrhost.conf</span></code> and a brand new database.
Those options and that blank slate are necessary so that you have in front of
you a working MUSH with only #0 and #1 and get shown the way of building it
into whatever is your dream MUSH, and I know we all have one.</p>
<p>There will be a chance to make all those other choices later, in fact that
will be happening very soon. There's a lot of very interesting choices that
you can make with RhostMUSH, too many for anyone to ever be able to use them
all. If you don't start with mastering the basics, you'll never end up knowing
what are the most RhostMUSH options. I can't tell you what they are, it's truly
something you have to discover on your own. Remember, you want to build your
dream MUSH, not mine.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Unless you are intending to start with a brand new database, you must be
aware of it's needs and expectations for the settings of <code class="docutils literal notranslate"><span class="pre">confsource</span></code> and
<code class="docutils literal notranslate"><span class="pre">netrhost.conf</span></code> Starter databases tend to distribute with them config
files of at least the options they expect set or not set during the process
of configuring and compiling the server.</p>
<p class="last">Knowing which database you intend to use is the first choice made of these
initial major configuration options, but that last that is made part of the
MUSH.</p>
</div>
</div>
</div>
<div class="section" id="compiling-rhostmush">
<span id="id2"></span><h2><span class="section-number">2.3. </span>Compiling RhostMush</h2>
<div class="section" id="setup-directory-permissions">
<h3><span class="section-number">2.3.1. </span>Setup directory permissions</h3>
<p>In order to both compile and run, all of the RhostMUSH files and directories
need to have the proper permissions set. If you obtained the source code
directly from GitHub, it is likely that this step is not required, but there
is no harm in running it anyway:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">dirsetup</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>If you did NOT obtain the source code directly from GitHub, it is possible that
even the above script will fail to run with 'permission denied' or similar
errors. It is recommended that you obtain the source code from there, but if
for whatever reason this is not an option, manually adjust your permissions
and then re-run the automated permission script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">chmod</span> <span class="o">+</span><span class="n">rx</span> <span class="nb">bin</span><span class="o">/*.</span><span class="n">sh</span> <span class="n">src</span><span class="o">/*.</span><span class="n">sh</span> <span class="n">game</span><span class="o">/*.</span><span class="n">sh</span> <span class="n">game</span><span class="o">/</span><span class="n">Startmush</span> <span class="n">game</span><span class="o">/</span><span class="n">db_</span><span class="o">*</span>
<span class="o">./</span><span class="n">dirsetup</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</div>
<div class="section" id="compile-the-source-code">
<h3><span class="section-number">2.3.2. </span>Compile the source code</h3>
<p>Once the source code has been obtained and the proper file and directory
permissions have been set, the RhostMUSH source code is ready to be compiled.
This is typically done through an interactive program where you configure the
options you want to have available to your installation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">confsource</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is recommended that if you are just starting out with RhostMUSH that you
compile for the first time using the default compile options which have
specifically been tuned to be closest to what the average person would need
or expect. Changing these options before you have a grood grasp of what
they mean and how RhostMUSH works on a deeper level can potentially cause
security issues, reduce compatibility with softcode rom other types of MUSH
servers, as well as waste system resources.</p>
</div>
<div class="section" id="saving-your-compile-options">
<h4><span class="section-number">2.3.2.1. </span>Saving your compile options</h4>
<p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">confsource</span></code> will remember the most recent options you used to compile
the source code for the next time you use <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">confsource</span></code> It might still
be a good idea to more permanently save the options you used to attempt to
compile. However, you still might want to have these options saved more
permanently, just in case. At the <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">confsource</span></code> menu there is an
option to save your current settings to a file. If you choose to do this,
you will find the the save file in the <code class="docutils literal notranslate"><span class="pre">bin/</span></code> directory.</p>
</div>
<div class="section" id="troubleshooting-compile-errors">
<h4><span class="section-number">2.3.2.2. </span>Troubleshooting compile errors</h4>
<p>Should this result in an error, a script has been included to correct the most
common errors, after which you can once more try to compile:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="nb">bin</span><span class="o">/</span><span class="n">script_setup</span><span class="o">.</span><span class="n">sh</span>
<span class="n">make</span> <span class="n">confsource</span>
</pre></div>
</div>
<p>Once the compile process successfully complete, you should be able to start-up
your new RhostMUSH server. If it complains about missing binaries make sure
they are linked. The provided script will fix this issue, and is not harmful
to run in any situation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">links</span>
</pre></div>
</div>
</div>
<div class="section" id="recompiling-the-source-code">
<h4><span class="section-number">2.3.2.3. </span>Recompiling the source code</h4>
<p>If you plan to use <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">confsource</span></code> to recompile your source, you should
first issue a <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code> before re-issuing a <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">confsource</span></code></p>
<p>A failure to issue <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code> prior to re-compiling with <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">confsource</span></code>
can potentially leave stale object files which may cause unforseen issues when
running code, including but not limited to random crashes.  Generally whenever
recompiling it's good to always make clean first.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You may also issue <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">source</span></code> if the <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> is already defined how
you want it to be.  Please remember to <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code> before <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">source`</span></code>
whenever you alter the code or import new source code.</p>
</div>
</div>
</div>
</div>
<div class="section" id="configuring-the-game">
<h2><span class="section-number">2.4. </span>Configuring the game</h2>
<div class="section" id="persistent-configurable-game-options">
<h3><span class="section-number">2.4.1. </span>Persistent configurable game options</h3>
<p>Upon compiling a RhostMUSH server, if it doesn't already exist, a
<code class="docutils literal notranslate"><span class="pre">netrhost.conf</span></code> is copied into the <code class="docutils literal notranslate"><span class="pre">game/</span></code> directory for your game. It
includes useful defaults for most compile-time options that will work well for
most games, particularly ones using both the default <code class="docutils literal notranslate"><span class="pre">confsource</span></code> options and
related database.</p>
<p>This configuration is derived from <code class="docutils literal notranslate"><span class="pre">defaults/game/netrhost.conf.default</span></code></p>
<p>While this <code class="docutils literal notranslate"><span class="pre">netrhost.conf</span></code> is very well documented and quite easy to change
in some places, but there are also some rather technical options that you it's
important to know the full implications of this.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The default <code class="docutils literal notranslate"><span class="pre">netrhost.conf</span></code> starts the game running on the port <em>4021</em> of
the server. If this is your time creating a MUSH, it is recommended that this
setting is the only one that you potentially change, and only if there is a
good reason to. Ports below 1024 are priviliged ports and can not be used for
this purpose.</p>
</div>
</div>
<div class="section" id="starting-the-game">
<h3><span class="section-number">2.4.2. </span>Starting the game</h3>
<p>Once done, you start up the system with the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">Startmush</span>
</pre></div>
</div>
<p>It will prompt you to start a new db if it doesn't find one.</p>
<p>You may also do the commands individually:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">csh</span><span class="p">]</span> <span class="n">netrhost</span> <span class="o">-</span><span class="n">s</span> <span class="n">netrhost</span><span class="o">.</span><span class="n">conf</span> <span class="o">&gt;&amp;</span> <span class="n">netrhost</span><span class="o">.</span><span class="n">log</span> <span class="o">&amp;</span>
<span class="p">[</span><span class="n">sh</span><span class="p">]</span>  <span class="n">netrhost</span> <span class="o">-</span><span class="n">s</span> <span class="n">netrhost</span><span class="o">.</span><span class="n">conf</span> <span class="o">&gt;</span> <span class="n">netrhost</span><span class="o">.</span><span class="n">log</span> <span class="mi">2</span><span class="o">&gt;&amp;</span><span class="mi">1</span> <span class="o">&amp;</span>
</pre></div>
</div>
</div>
<div class="section" id="first-login-to-the-game">
<h3><span class="section-number">2.4.3. </span>First login to the game</h3>
<p>Once started, log in the #1 character (Wizard) with it's appropiate
password (no, not 'potrzebie', but 'Nyctasia').  There were private
reasons for the password change.</p>
<p>Once in, do a &#64;shutdown to save the database.  Then you can run Startup
normally.   You may make a backup of your database at anytime on-line by
utilizing the &#64;dump/flat option.  A script comes with this distribution
that allows the ability of auto-archiving your database for a configurable
number of backups.</p>
</div>
</div>
<div class="section" id="creating-rhostmush-with-a-provided-db">
<h2><span class="section-number">2.5. </span>Creating RHostMUSH with a Provided DB</h2>
<div class="section" id="important-before-you-actually-start-building">
<h3><span class="section-number">2.5.1. </span>Important before you actually start building</h3>
<p>The main parts of making your RhostMUSH, easy pleasy:</p>
<ol class="arabic simple">
<li>The stunnel directory contains TLS/SSL connectivity.  This has to be linked to another port and will tunnel to the mush port.  The README file explains how to set up and configure your TLS/SSL connection.</li>
<li>./patch.sh -- This makes sure you have the latest code.  If you got this by git clone <a class="reference external" href="https://github.com/RhostMUSH/trunk" target="_blank">https://github.com/RhostMUSH/trunk</a> then you can ignore patching.  You can use ./patch.sh at any time to update your code.  It ignores local.c incase you make your own modules.</li>
<li>make confsource.  Yup, it's menu driven, nifty eh?<ol class="arabic">
<li>Options you may want to select (other than the defaults):</li>
<li>5  (%c is selected by default, but choose %x as well for MUX/TM3 compat)</li>
<li>9  (if you want $commands to require the COMMAND flag)</li>
<li>16 (if you want a wider WHO listing like older versions of MUX)</li>
<li>22 (if you're converting a TinyMUSH3 or TinyMUX/MUX2 flatfile)</li>
<li>24 (if you have issues with -lssl not being found)</li>
<li>B3 (for 64 character attribute names)</li>
<li>B6 (select 8K for Penn/MUX2/TM3 default, up to 32K.  64K is network intensive)</li>
<li>B5 (will be autoselected if you choose 8K or more.  Pick this anyway)</li>
<li>B4 (if you have sqlite libraries and wish to use this)</li>
</ol>
</li>
<li>'r' to compile with the settings you selected.</li>
<li>Modify your netrhost.conf file as specified.  Make sure to align your port and debug_id as shown in the netrhost.conf file.</li>
<li>If you wish to port in an old flatfile, please refer to the readme directory on how to port your flatfile in (README.DBLOADING).</li>
</ol>
</div>
<div class="section" id="using-the-prebuilt-flatfile">
<h3><span class="section-number">2.5.2. </span>Using the prebuilt flatfile</h3>
<p>There are pre-loaded flatfile databases you can use at this point.  The netrhost.db.flat
and corrisponding netrhost.conf file will be located in the minimal-DBs/minimal_db directory.</p>
<p>You may auto-load the minimal db and corresponding netrhost.conf file with the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">minimal</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>This is ran from within the 'game' directory.  Once this is ran, you will need
to customize the netrhost.conf file for your purposes.  The port and debug_id must
be changed at the very least.  Keep the debug_id coordinated to the port as described.</p>
<div class="section" id="to-load-a-prebuilt-flatfile">
<h4><span class="section-number">2.5.2.1. </span>To load a prebuilt flatfile</h4>
<ol class="arabic">
<li><p class="first">Make a backup of your existing netrhost.conf file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="n">game</span><span class="o">/</span><span class="n">netrhost</span><span class="o">.</span><span class="n">conf</span> <span class="n">game</span><span class="o">/</span><span class="n">netrhost</span><span class="o">.</span><span class="n">conf</span><span class="o">.</span><span class="n">backup</span>
</pre></div>
</div>
</li>
<li><p class="first">Copy the netrhost.conf file into your game directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="o">-</span><span class="n">f</span> <span class="o">./</span><span class="n">minimal</span><span class="o">-</span><span class="n">DBs</span><span class="o">/</span><span class="n">minimal_db</span><span class="o">/</span><span class="n">netrhost</span><span class="o">.</span><span class="n">conf</span> <span class="o">./</span><span class="n">game</span><span class="o">/</span><span class="n">netrhost</span><span class="o">.</span><span class="n">conf</span>
</pre></div>
</div>
</li>
<li><p class="first">At this point you can modify your netrhost.conf file settings in your game directory.
Using an editor modify the 'port' and 'debug_id' respectively in your netrhost.conf as state.
The 'port' will be the port the mush listens on, the debug_id is for the debug-stack and is
your port with a '5' at the end.  So if your port is 4444, the debug_id is 44445</p>
</li>
</ol>
<div class="admonition-todo admonition" id="id3">
<p class="first admonition-title">Todo</p>
<p class="last">Clean up the below section</p>
</div>
<ol class="arabic">
<li><p class="first">Load in the flatfile into the mush (You could do this in the Startmush as well)
Manually:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">game</span>
<span class="o">./</span><span class="n">db_load</span> <span class="n">data</span><span class="o">/</span><span class="n">netrhost</span><span class="o">.</span><span class="n">gdbm</span> <span class="o">../</span><span class="n">minimal</span><span class="o">-</span><span class="n">DBs</span><span class="o">/</span><span class="n">minimal_db</span><span class="o">/</span><span class="n">netrhost</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">flat</span> <span class="n">data</span><span class="o">/</span><span class="n">netrhost</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">new</span> <span class="n">dwF</span>
</pre></div>
</div>
<p>Start your mush:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">Startmush</span>
</pre></div>
</div>
<p>This will load the db that you loaded.</p>
<p>---------------OR-------</p>
<p>From Startmush when prompted, hit &lt;RETURN&gt; for searching then select the number of the netrhost.db.flat that is listed as ~/minimal-DBs/minimal_db/netrhost.db.flat:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">Startmush</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="section" id="basic-instructions-for-starting-a-new-rhostmush">
<h2><span class="section-number">2.6. </span>Basic Instructions for starting a new RhostMUSH</h2>
<div class="section" id="manual-configuration-of-source-code">
<h3><span class="section-number">2.6.1. </span>Manual configuration of source code</h3>
<p>To do manual configuration (skip if the previous step worked for you) And yes, this is a bit of a pain in the bottom, hopefully you will not need this.</p>
<p>You need the following definitions defined to make this work:</p>
<ol class="arabic simple">
<li>TINY_U, USE_SIDEEFFECTS, MUX_INCDEC, ATTR_HACK</li>
<li>(u()/u2() switched)</li>
<li>(sideeffects)</li>
<li>(inc()/xinc() switched)</li>
<li>(support for _/~ attribs)</li>
</ol>
<p>You only need to do this if you received the RhostMUSH src.  If you received a binary, continue on to the next part.</p>
<p>To compile the code, just type 'make confsource'.  It will prompt you with settings on what you need to do.  If you just want to quickly hand edit the Makefile, it is in the directory src (full path src/Makefile).  Then you may just run 'make source', if you so choose to hand-edit the Makefile.</p>
<p>After the compile process is done, type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">links</span>
</pre></div>
</div>
</div>
<div class="section" id="loading-a-database-for-your-mush">
<h3><span class="section-number">2.6.2. </span>Loading a database for your MUSH</h3>
<p>You now have a choice of optionally starting at a provided database or starting from scratch.</p>
<div class="section" id="option-only-perform-these-steps-if-using-a-provided-database">
<h4><span class="section-number">2.6.2.1. </span>Option: Only perform these steps if using a provided database</h4>
<p>Copy an existing flatfile and corresponding netrhost.conf file Default provied example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="n">game</span><span class="o">/</span><span class="n">netrhost</span><span class="o">.</span><span class="n">conf</span> <span class="n">game</span><span class="o">/</span><span class="n">netrhost</span><span class="o">.</span><span class="n">conf</span><span class="o">.</span><span class="n">backup</span>
<span class="n">cp</span> <span class="o">-</span><span class="n">f</span> <span class="n">minimal</span><span class="o">-</span><span class="n">DBs</span><span class="o">/</span><span class="n">minimal_db</span><span class="o">/</span><span class="n">netrhost</span><span class="o">.</span><span class="n">conf</span> <span class="n">game</span><span class="o">/</span><span class="n">netrhost</span><span class="o">.</span><span class="n">conf</span>
<span class="n">cd</span> <span class="n">game</span>
<span class="o">./</span><span class="n">db_load</span> <span class="n">data</span><span class="o">/</span><span class="n">netrhost</span><span class="o">.</span><span class="n">gdbm</span> <span class="o">../</span><span class="n">minimal</span><span class="o">-</span><span class="n">DBs</span><span class="o">/</span><span class="n">minimal_db</span><span class="o">/</span><span class="n">netrhost</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">flat</span> <span class="n">data</span><span class="o">/</span><span class="n">netrhost</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">new</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="option-things-to-do-once-you-have-connected-if-you-did-not-use-a-provided-database">
<h3><span class="section-number">2.6.3. </span>Option: Things to do once you have connected if you did NOT use a provided database</h3>
<ol class="arabic">
<li><p class="first">&#64;dig your master room and in your netrhost.conf file define master_room to this dbref (without the #.  So like master_room 2)</p>
</li>
<li><p class="first">Create an immortal holder charater (&#64;pcreate then &#64;set immortal) Feel free to set up holder characters for all the bittypes which are: GUILDMASTER, ARCHITECT, COUNCILOR, WIZARD, IMMORTAL</p>
</li>
<li><p class="first">&#64;chown/preserve the master room and #0 to the immortal holder character.</p>
</li>
<li><p class="first">Log into the immortal character</p>
</li>
<li><p class="first">&#64;pcreate all your guest characters and set them up properly.  My suggestion:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@dolist</span> <span class="n">lnum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="o">=</span><span class="p">{</span><span class="nd">@pcreate</span> <span class="n">Guest</span><span class="c1">##=guest;@set *Guest##=guest;@desc *Guest##=A guest player.;@adisconnect *Guest##=home;@lock *Guest##=*Guest##}</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">&#64;list guest will show your guest characters and if they're set up properly.</p>
</div>
<ol class="arabic simple">
<li>Any master room code you load in from your immholder character (or &#64;chown/preserve to it) The readme directory has softfunctions.minmax that has MUX/Penn compatability functions and comsys.  All other softcode (like mail wrappers) can be found on <a class="reference external" href="https://github.com/RhostMUSH/trunk" target="_blank">https://github.com/RhostMUSH/trunk</a> in Mushcode.</li>
<li>Setup new character, staff, and take tasks that can only be accomplished by #1</li>
<li>Set up any other characters you want.  Anyone immortal can issue &#64;function, &#64;admin, or anything #1 can do.</li>
</ol>
<div class="admonition-todo admonition" id="id4">
<p class="first admonition-title">Todo</p>
<p class="last">Figure out what they were trying to say by having those above two sentences right after each other.</p>
</div>
</div>
</div>
<div class="section" id="customtize-the-textfiles-for-your-game">
<h2><span class="section-number">2.7. </span>Customtize the textfiles for your game</h2>
<p>All connect.txt and customized files can be found in the ~/Server/game/txt directory.  There is a
README file there that explains their purposes in more detail.  You can see more information on
all files and how they inter-relate with 'wizhelp file'.</p>
</div>
<div class="section" id="three-options-for-starting-a-mush">
<h2><span class="section-number">2.8. </span>Three Options for Starting a MUSH</h2>
<p>The RhostMUSH Git Repository comes with three options for starting your Mush.</p>
<div class="admonition-todo admonition" id="id5">
<p class="first admonition-title">Todo</p>
<p class="last">Well, there's also some other pre-existing DB, upgrading, and ansible so let's try to make this a little more coherent.</p>
</div>
<div class="section" id="option-1-creating-a-new-game-with-a-blank-database">
<h3><span class="section-number">2.8.1. </span>Option 1: Creating a new game with a blank database</h3>
<p>Modify your ./game/netrhost.conf file or what settings you want.
Don't feel overwhelmed, it's all very well documented.</p>
</div>
<div class="section" id="option-2-creating-a-new-game-with-the-generic-default-database">
<h3><span class="section-number">2.8.2. </span>Option 2: Creating a new game with the generic default database</h3>
<p>Copy the netrhost.conf from minimal-DBs/minimal_db to your game directory.</p>
<p>When ./Startmush prompts you to load a flatfile, say 'yes' and hit &lt;RETURN&gt;
to have it search for flatfiles, then select netrhost.db.flat from under
the minimal-DBs/minimal_db directory.</p>
</div>
<div class="section" id="option-3-creating-a-new-game-with-ambrosia-s-default-database">
<h3><span class="section-number">2.8.3. </span>Option 3: Creating a new game with Ambrosia's default database</h3>
<p>This option is covered in detail here: <a class="reference internal" href="ambrosiadb.html#ambrosiadb-installation"><span class="std std-ref">Ambrosia's Minimal Rhost DB</span></a></p>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, wstarter.
      Last updated on Apr 22, 2021.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.1.
    </div>
  </body>
</html>