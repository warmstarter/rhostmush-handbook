<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>RhostMUSH Handbook :: Converting database betwen GDBM and QDBM</title>
  

  <link rel="icon" type="image/png" sizes="32x32" href="_static/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="_static/img/favicon-16x16.png">
        <link rel="index" title="Index"
              href="genindex.html"/>

  <link rel="stylesheet" href="_static/css/insegel.css"/>

  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'',
        VERSION:'',
        LANGUAGE:'None',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
    };
  </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script>

</head>

<body>
  <div id="insegel-container">
    <header>
      <div id="logo-container">
          
          <a href="index.html"><img src="_static/img/logo.svg"></a>
          

      </div>
      <div id="project-container">
        <h1>RhostMUSH Handbook Documentation</h1>
      </div>
    </header>

    <div id="content-container">

      <div id="main-content-container">
        <div id="main-content-header">
          <h1>Converting database betwen GDBM and QDBM</h1>
        </div>
        <div id="main-content">
          
  <div class="section" id="converting-database-betwen-gdbm-and-qdbm">
<h1>Converting database betwen GDBM and QDBM</h1>
<p>Ok, if you plan to recompile your game that is using GDBM to QDBM, or visa versa
some bad news.</p>
<p>The databases are NOT COMPATIBLE to each other, at least in the binary form.</p>
<div class="section" id="downgrading-qdbm-to-gdbm">
<h2>Downgrading QDBM to GDBM</h2>
<p>I would NEVER change from QDBM back to GDBM, but if you’re set on it these steps:</p>
<p>You would use the same steps if you plan to move QDBM to GDBM.  I however would
not do this.  Moving from QDBM to GDBM is a huge step backwards.  Seriously,
don’t do it unless you have absolutely no other recourse.</p>
<p>However, WARNING:
IF you plan (for whatever reason) to move from QDBM to GDBM, you should verify
the following:
1.  You have on a 64 bit system, no object that has more than 400 attributes on it.
2.  You have on a 32 bit system, no object that has more than 750 attributes on it.
3.  Any CONTENT of any attribute must be below 4000 characters in length.
4.  Once you have that done, you may follow the procedures below on converting (upgrade)</p>
<blockquote>
<div><p>from GDBM to QDBM.  This works the same as converting (downgrading)
QDBM back down to GDBM</p>
</div></blockquote>
</div>
<div class="section" id="upgradging-gdbm-to-qdbm">
<h2>Upgradging GDBM to QDBM</h2>
<p>Now, if you’ve kept reading and plan to convert your GDBM database to QDBM great news!
It’s more stable, it’s faster, and lets you have far more flexibility.</p>
<p>So, BEFORE YOU RECOMPILE YOUR CODE.  This is what you have to do.</p>
<div class="section" id="while-logged-in-to-your-mush-issue-the-following-commands">
<h3>While logged in to your mush, issue the following commands</h3>
<blockquote>
<div><ol class="upperalpha simple">
<li><p>&#64;dump/flat    – This will make a flatfile dump of your MUSH database</p></li>
<li><p>wmail/unload  – This will make a flatfile dump of your MAIL database</p></li>
<li><p>&#64;areg/unload  – If you use the AutoRegistration engine, this dumps it</p></li>
<li><p>newsdb/unload – If you use the hardcoded news/bbs engine.  This dumps it</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="verify-the-files-exist">
<h3>Verify the files exist</h3>
<blockquote>
<div><ol class="upperalpha simple">
<li></li>
<li></li>
<li><p>(Optional) .. Server/game/data/RhostMUSH.areg.dump</p></li>
<li><p>(Optional) .. Server/game/data/RhostMUSH.news.flat</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="shutdown-the-mush">
<h3>Shutdown the MUSH</h3>
<p>&#64;shutdown your mush</p>
</div>
<div class="section" id="from-the-server-directory">
<h3>From the Server directory</h3>
<blockquote>
<div><ol class="upperalpha simple">
<li><p>make clean</p></li>
<li><p>make confsource
1.  Select QDBM and if you wish at this time increase your LBUF size
2.  Select any other options you may want</p></li>
<li><p>(r)un and let it compile.</p></li>
<li><p>Main DB: Delete (rm) the following files (from Rhost/Server/game/data)
netrhost.gdbm*
netrhost.db
netrhost.db.new
netrhost.db.new.prev</p></li>
<li><p>Mail DB: Delete (rm) the following files (from Rhost/Server/game/data)
RhostMUSH.folder.dir
RhostMUSH.folder.pag
RhostMUSH.mail.dir
RhostMUSH.mail.pag</p></li>
<li><p>(Optional) AutoReg DB: Delete (rm) the following files (from Rhost/Server/game/data)
RhostMUSH.areg.dir
RhostMUSH.areg.pag</p></li>
<li><p>(Optional) News/BBS DB: Delete (rm) the following files (from Rhost/Server/game/data)
RhostMUSH.news.dir
RhostMUSH.news.pag</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="from-the-server-game-directory">
<h3>From the Server/game directory</h3>
<blockquote>
<div><ol class="upperalpha simple">
<li><p>./db_load data/netrhost.gdbm data/netrhost.db.flat data/netrhost.db.new</p></li>
<li><p>./Startmush</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="while-logged-into-the-mush-issue-the-following-commands">
<h3>While logged into the mush issue the following commands</h3>
<blockquote>
<div><ol class="upperalpha simple">
<li><p>Load in the mail database
wmail/load</p></li>
<li><p>(optional) Load in the autoreg database
&#64;areg/load</p></li>
<li><p>(optional) Load in the news/bbs database
newsdb/load</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="verify-that-you-have-qdbm-running-and-your-valid-values">
<h3>Verify that you have QDBM running and your valid values</h3>
<blockquote>
<div><ol class="upperalpha simple">
<li><p>&#64;list options system</p></li>
<li><p>&#64;list options (spammy)</p></li>
</ol>
</div></blockquote>
</div>
</div>
</div>


        </div>
      </div>

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
            <input type="text" name="q" placeholder="Search..." />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">

          
  
    
  
  
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="01-intro.html">What RhostMUSH is about and what’s so great about RhostMUSH.</a></li>
<li class="toctree-l1"><a class="reference internal" href="02-compile.html">What to type to Compile and Install RhostMUSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="03-dbconversion.html">How to convert a database from another mush to RhostMUSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-configure.html">What to type to configure and get your RhostMUSH up and running</a></li>
<li class="toctree-l1"><a class="reference internal" href="05-newmush.html">What to type to get the basics running if you did not choose a pre-existing flatfile</a></li>
<li class="toctree-l1"><a class="reference internal" href="06-security.html">Considerations to locking down restrictions in RhostMUSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="07-toggles.html">What FLAGS, TOGGLES, POWERS, and DEPOWERS mean in RhostMUSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="08-lockdown.html">Extended lockdown of the mush and considerations.</a></li>
<li class="toctree-l1"><a class="reference internal" href="09-blocking.html">Methods to block anonymous connections and the pros and cons of doing so</a></li>
<li class="toctree-l1"><a class="reference internal" href="10-customize.html">What may need to be modified to get softcode from PennMUSH, TinyMUSH2, TinyMUSH3, or MUX2 to work on Rhost</a></li>
<li class="toctree-l1"><a class="reference internal" href="11-differences.html">The differences to expect to the end user between PennMUSH, MUX, and RhostMUSH as of 08/06/2016</a></li>
<li class="toctree-l1"><a class="reference internal" href="12-advanced.html">Advanced features of RhostMUSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="13-signals.html">Signals and why you need them for control</a></li>
<li class="toctree-l1"><a class="reference internal" href="14-ssl.html">Setting up an SSL tunnel for secure connection options</a></li>
<li class="toctree-l1"><a class="reference internal" href="15-bitlevels.html">Multi-tiered bitlevel systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="16-modules.html">Adding hardcoded modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="17-shutdown.html">Shutting down gracefully</a></li>
<li class="toctree-l1"><a class="reference internal" href="18-debug.html">Stack limit and debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="19-reality.html">Reality levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="20-execscript.html">Execscript and external programs and scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="21-printf.html">Using printf() for advanced text output</a></li>
<li class="toctree-l1"><a class="reference internal" href="22-ansible.html">Installing using an ansible playbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="23-random.html">Random notes and things to know about RhostMUSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="24-quickinstall.html">Quickinstall guide to RhostMUSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="25-godpasswd.html">How to reset the password for #1</a></li>
<li class="toctree-l1"><a class="reference internal" href="26-compileerror.html">Troubleshooting difficulties compiling RhostMUSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="27-dbcorrupt.html">Dealing with DB Corruption</a></li>
<li class="toctree-l1"><a class="reference internal" href="28-maildbcorrupt.html">Dealing with a corrupt mail database</a></li>
<li class="toctree-l1"><a class="reference internal" href="29-setup.html">Additional simplified notes on setting up RhostMUSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="30-cron.html">Using the built-in cron system for periodically running commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="31-comparison.html">Comparison of features between RhostMUSH, PennMUSH, and MUX2</a></li>
<li class="toctree-l1"><a class="reference internal" href="32-dbloading.html">Loading an existing Database</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Converting database betwen GDBM and QDBM</a></li>
<li class="toctree-l1"><a class="reference internal" href="34-upgrade.html">Updating RhostMUSH prior to 3.9.5p2</a></li>
<li class="toctree-l1"><a class="reference internal" href="35-txtfiles.html">Textfiles for RhostMUSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="36-scripts.html">The following scripts are used in the game directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="37-execscripts.html">Scripts to be used with execscript</a></li>
<li class="toctree-l1"><a class="reference internal" href="38-imageformat.html">Format for image filses</a></li>
<li class="toctree-l1"><a class="reference internal" href="38-imageformat.html#help-key-indexes-for-the-values">HELP key indexes for the values:</a></li>
<li class="toctree-l1"><a class="reference internal" href="39-portdirector.html">Network Port redirector</a></li>
<li class="toctree-l1"><a class="reference internal" href="40-autoshutdown.html">Autoshutdown script</a></li>
<li class="toctree-l1"><a class="reference internal" href="41-minimaldb.html">Minimal DB instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="42-ambrosiadb.html">Ambrosia’s Minimal Rhost DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="helpfile.html">RhostMUSH Internal Help Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="wizhelpfile.html">RhostMUSH Internal Help Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="flags.html">Comparison of Flags</a></li>
<li class="toctree-l1"><a class="reference internal" href="powers.html">Comparison of powers</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="windows.html">Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="copyright.html">Copyright</a></li>
<li class="toctree-l1"><a class="reference internal" href="nda.html">Historical Non-Disclosure Agreement</a></li>
</ul>

  


        </div>

        

      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            
                <li class="footer-element">
                    
                        <a href="_sources/33-qdbm.rst.txt" rel="nofollow"> source</a>
                    
                </li>
            

            

            
        </ul>
        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/Autophagy/insegel">Insegel</a>

        </div>
    </div>

    <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

    <script type="text/javascript">
      $("#menu-toggle").click(function() {
        $("#menu-toggle").toggleClass("toggled");
        $("#side-menu-container").slideToggle(300);
      });
    </script>

</footer> 

</div>

</body>
</html>