<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.16 -->
<document source="/home/pi/rhostmush-handbook/source/16-modules.rst">
    <section ids="adding-hardcoded-modules" names="adding\ hardcoded\ modules">
        <title>Adding hardcoded modules</title>
        <paragraph>RhostMUSH does support module writing.</paragraph>
        <section ids="modifying-sourcode-to-add-a-module" names="modifying\ sourcode\ to\ add\ a\ module">
            <title>Modifying sourcode to add a module</title>
            <paragraph>This requires hooking your changes into local.c, then modifying the Makefile (in the src directory)
                for any new source files that you wish to add.</paragraph>
            <paragraph>Something to be aware of is that all localized data is ran after the system cache subroutine.</paragraph>
        </section>
        <section ids="adding-an-startup-to-make-use-of-modules" names="adding\ an\ @startup\ to\ make\ use\ of\ modules">
            <title>Adding an @startup to make use of modules</title>
            <paragraph>This means that if your code is depending on @startups, you need to put a delay in the @startup
                so that your local code can be loaded in as modules prior to the @startup execution.</paragraph>
            <paragraph>Something that will not work:</paragraph>
            <paragraph>@startup <reference refuri="mailto:me=@superhappyfuncommand">me=@superhappyfuncommand</reference> loadmeup=now</paragraph>
            <paragraph>A small alteration that will likely make this work fine.</paragraph>
            <paragraph>@startup <reference refuri="mailto:me=@wait">me=@wait</reference> <reference refuri="mailto:1=@superhappyfuncommand">1=@superhappyfuncommand</reference> loadmeup=now</paragraph>
            <paragraph>That 1 second delay for the queue will give the game engine time to load in your module code.</paragraph>
        </section>
        <section ids="contributing-your-module-back-to-rhost" names="contributing\ your\ module\ back\ to\ rhost">
            <title>Contributing your module back to Rhost</title>
            <paragraph>If you wish your modules to be part of the main Rhost distribution you have two options:</paragraph>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Attempt to hack the bin/asksource.sh and bin/asksource.blank files.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Ask one of the Rhost devs to do it for you :)</paragraph>
                </list_item>
            </enumerated_list>
        </section>
    </section>
</document>
