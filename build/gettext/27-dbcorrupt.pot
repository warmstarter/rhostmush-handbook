# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2021, wstarter
# This file is distributed under the same license as the RhostMUSH Handbook package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: RhostMUSH Handbook \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2021-03-04 10:55-0500\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../source/27-dbcorrupt.rst:3
msgid "Dealing with DB Corruption"
msgstr ""

#: ../../source/27-dbcorrupt.rst:5
msgid "Ok.  Your database won't come up."
msgstr ""

#: ../../source/27-dbcorrupt.rst:7
msgid "If you are reading this, then likely the scenerio is one of the following:"
msgstr ""

#: ../../source/27-dbcorrupt.rst:9
msgid "The mush says it can't find your database files."
msgstr ""

#: ../../source/27-dbcorrupt.rst:10
msgid "The mush says it can't read or load your database files."
msgstr ""

#: ../../source/27-dbcorrupt.rst:11
msgid "The mush seems to load fine but I can't log in anyone and when I do all the names and attributes of things seem to be gone!"
msgstr ""

#: ../../source/27-dbcorrupt.rst:13
#: ../../source/27-dbcorrupt.rst:134
msgid "Bringing up your mail database"
msgstr ""

#: ../../source/27-dbcorrupt.rst:16
msgid "First thing is first.  Don't have a panic attack."
msgstr ""

#: ../../source/27-dbcorrupt.rst:19
msgid "If the mush says it can't find your database files"
msgstr ""

#: ../../source/27-dbcorrupt.rst:22
msgid "Check the names of the database files in your 'data' directory"
msgstr ""

#: ../../source/27-dbcorrupt.rst:24
msgid "They should be named something like: netrhost.db netrhost.db.old netrhost.db.old.prev netrhost.gdbm.dir netrhost.gdbm.pag"
msgstr ""

#: ../../source/27-dbcorrupt.rst:31
msgid "And you may see a netrhost.db.flat"
msgstr ""

#: ../../source/27-dbcorrupt.rst:34
msgid "Check your netrhost.conf file"
msgstr ""

#: ../../source/27-dbcorrupt.rst:36
msgid "If you never touched the *database or muddb_name params, you should be good."
msgstr ""

#: ../../source/27-dbcorrupt.rst:38
msgid "Verify your *database params (and muddb_name) are still set to 'netrhost' as part of the name.  Ergo, the default values and you didn't change them. These should match up with the filenames in your data directory."
msgstr ""

#: ../../source/27-dbcorrupt.rst:42
msgid "If these names do not match up, it can't find the database files to load. So you shouldn't have to change these names, ever. :)"
msgstr ""

#: ../../source/27-dbcorrupt.rst:46
msgid "Check your mush.config file"
msgstr ""

#: ../../source/27-dbcorrupt.rst:48
msgid "If you never modified this file, you should be good."
msgstr ""

#: ../../source/27-dbcorrupt.rst:50
msgid "The gamename should be 'netrhost' for this file.  This does NOT control the name of your game.  This controls the name of all the files as associated to the mush.  So changing this means the netrhost.conf file, all your database files, and so forth.  Please don't change this :)"
msgstr ""

#: ../../source/27-dbcorrupt.rst:56
msgid "If the mush says it can't read or load your database files"
msgstr ""

#: ../../source/27-dbcorrupt.rst:58
msgid "Double check everything for the previous issue. Make sure everything is named properly."
msgstr ""

#: ../../source/27-dbcorrupt.rst:61
msgid "Verify you have enough disk space. (quota)"
msgstr ""

#: ../../source/27-dbcorrupt.rst:63
msgid "Some account have a limited quota to run in.  If you reached or exceed your disk quota, you can have a corrupted database.  So always keep your eye on the size.  quota -s to see a human readable format to see how much quota you have left.  You want to make sure current in use is below the 'grace' and soft/hard limits shown.  If not, you're out of space."
msgstr ""

#: ../../source/27-dbcorrupt.rst:70
msgid "You will need to remove some files before you repair and bring up your mush again.  Try to keep your quota at least 200 megs free to allow plenty of wonderful growth space for the mush."
msgstr ""

#: ../../source/27-dbcorrupt.rst:75
msgid "Verify you have enough disk space.  (system)"
msgstr ""

#: ../../source/27-dbcorrupt.rst:77
msgid "The second way you can run out of disk space is by the filesystem itself. do a df -h . in your 'game' directory'.  That is df -h <period>. This will return how much disk space is being used and how much remains. If it shows 100% used, you're out of disk space and the db is corrupt."
msgstr ""

#: ../../source/27-dbcorrupt.rst:82
msgid "At this point, you're pretty screwed.  You can see if anything exists in your system to free up some space, but if the filesystem itself is filled, reach out to the owner of the server and let them know. It's a much bigger deal than just your mush if that's the case."
msgstr ""

#: ../../source/27-dbcorrupt.rst:87
msgid "Until this issue is resolved, you can not repair and bring up your mush. No disk to run the game."
msgstr ""

#: ../../source/27-dbcorrupt.rst:91
msgid "If the mush seems to load fine but I can't log in anyone and when I do all the names and attributes of things seem to be gone!"
msgstr ""

#: ../../source/27-dbcorrupt.rst:93
msgid "Ok, at this point you likely had your mush up when the physical server went down hard.  Weither through an emergency shutdown or a physical power outage, your db likely was brought down hard during a write, so it left it in a corrupt state.  These things happen.  This is why we always strongly request you make daily flatfile dumps."
msgstr ""

#: ../../source/27-dbcorrupt.rst:99
msgid "So, to recover your database."
msgstr ""

#: ../../source/27-dbcorrupt.rst:102
msgid "The bad news"
msgstr ""

#: ../../source/27-dbcorrupt.rst:104
msgid "If you have no flatfile backup or never bothered with backups? I'm sorry, at this point you're SOA.  There's no easy way to recover a corrupted binary database.  If you absolutely need data out of it we may be able to help you to piece meal things out of it, but otherwise it's a lost cause.  You'll have to start over from scratch.  I'm sorry."
msgstr ""

#: ../../source/27-dbcorrupt.rst:112
msgid "The good news"
msgstr ""

#: ../../source/27-dbcorrupt.rst:114
msgid "If you made backups, or if the server had a normal shutdown, you likely have a flatfile backup.  You will see a netrhost.db.flat in either the 'data' directory or 'prevflat' directory.  That is your manual flatfile backup."
msgstr ""

#: ../../source/27-dbcorrupt.rst:119
msgid "If the server had a normal shutdown, you will see a file called netrhost.db.TERMFLAT.  This is a scram-emergency db flatfile. It attempts to write this at the time of server shutdown to hopefully keep a clean backup in the case of issues since it identifies the server is coming down hard.  Make sure if you plan to use the TERMFLAT as your recovery flatfile that the very last line shows something like ** END OF DUMP **. That shows you had a successful backup."
msgstr ""

#: ../../source/27-dbcorrupt.rst:129
msgid "Now, to restore your database?"
msgstr ""

#: ../../source/27-dbcorrupt.rst:131
msgid "Please refer to the file 'README.DBLOADING'."
msgstr ""

#: ../../source/27-dbcorrupt.rst:136
msgid "Your mail db may or may not come up at this point."
msgstr ""

#: ../../source/27-dbcorrupt.rst:139
msgid "If after restoring main database your mail database works"
msgstr ""

#: ../../source/27-dbcorrupt.rst:142
msgid "If your mail database came up and does not show"
msgstr ""

#: ../../source/27-dbcorrupt.rst:142
msgid "'Mail: mail is currently off' then you should be good to go."
msgstr ""

#: ../../source/27-dbcorrupt.rst:144
msgid "Please issue: wmail/fix wmail/lfix"
msgstr ""

#: ../../source/27-dbcorrupt.rst:148
msgid "This will put your mail system in sync with your current database and fix up any errors that may exist.  wmail/fix fixes the mail, wmail/lfix loads in the fixes."
msgstr ""

#: ../../source/27-dbcorrupt.rst:153
msgid "If after restoring main database your mail database does not work"
msgstr ""

#: ../../source/27-dbcorrupt.rst:156
msgid "If your mail database is not up and shows"
msgstr ""

#: ../../source/27-dbcorrupt.rst:156
msgid "'Mail: mail is currently off' then your mail db is currupt."
msgstr ""

#: ../../source/27-dbcorrupt.rst:158
msgid "To fix your mail db please refer to file 'README.MAILCANNOTLOAD'"
msgstr ""
